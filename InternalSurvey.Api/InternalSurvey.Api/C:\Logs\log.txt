02/24/2023 11:58:59 +01:00 Entity Framework Core "6.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.0"' with options: "None"
02/24/2023 11:59:13 +01:00 Start installing Hangfire SQL objects...
02/24/2023 11:59:28 +01:00 An exception occurred while trying to perform the migration. Retrying...
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 11:59:28 +01:00 An exception occurred while trying to perform the migration. Retrying...
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 11:59:28 +01:00 An exception occurred while trying to perform the migration.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 11:59:28 +01:00 Was unable to perform the Hangfire schema migration due to an exception. Ignore this message unless you've just installed or upgraded Hangfire.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 11:59:28 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
02/24/2023 11:59:28 +01:00 Starting Hangfire Server using job storage: 'SQL Server: localhost\SQLEXPRESS@SurveyDb'
02/24/2023 11:59:28 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/24/2023 11:59:28 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/24/2023 11:59:28 +01:00 Starting Hangfire Server using job storage: 'SQL Server: localhost\SQLEXPRESS@SurveyDb'
02/24/2023 11:59:28 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/24/2023 11:59:28 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/24/2023 11:59:29 +01:00 Now listening on: "http://localhost:41144"
02/24/2023 11:59:29 +01:00 Application started. Press Ctrl+C to shut down.
02/24/2023 11:59:29 +01:00 Hosting environment: "Development"
02/24/2023 11:59:29 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
02/24/2023 11:59:30 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/ - -
02/24/2023 11:59:30 +01:00 Failed to determine the https port for redirect.
02/24/2023 11:59:30 +01:00 HTTP "GET" "/" responded 301 in 10.9767 ms
02/24/2023 11:59:30 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/ - - - 301 0 - 23.5020ms
02/24/2023 11:59:30 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/index.html - -
02/24/2023 11:59:30 +01:00 HTTP "GET" "/index.html" responded 200 in 28.8285 ms
02/24/2023 11:59:30 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/index.html - - - 200 - text/html;charset=utf-8 29.1840ms
02/24/2023 11:59:30 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui-bundle.js - -
02/24/2023 11:59:30 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui.css - -
02/24/2023 11:59:30 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui-standalone-preset.js - -
02/24/2023 11:59:30 +01:00 Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
02/24/2023 11:59:30 +01:00 Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
02/24/2023 11:59:30 +01:00 Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
02/24/2023 11:59:30 +01:00 HTTP "GET" "/swagger-ui-bundle.js" responded 200 in 189.2252 ms
02/24/2023 11:59:30 +01:00 HTTP "GET" "/swagger-ui.css" responded 200 in 189.2288 ms
02/24/2023 11:59:30 +01:00 HTTP "GET" "/swagger-ui-standalone-preset.js" responded 200 in 187.5386 ms
02/24/2023 11:59:30 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui-bundle.js - - - 200 986342 application/javascript 190.2072ms
02/24/2023 11:59:30 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui.css - - - 200 142933 text/css 190.2161ms
02/24/2023 11:59:30 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui-standalone-preset.js - - - 200 311804 application/javascript 188.1833ms
02/24/2023 11:59:30 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - -
02/24/2023 11:59:30 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/favicon-32x32.png - -
02/24/2023 11:59:30 +01:00 Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
02/24/2023 11:59:30 +01:00 HTTP "GET" "/favicon-32x32.png" responded 200 in 0.7253 ms
02/24/2023 11:59:30 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/favicon-32x32.png - - - 200 628 image/png 0.9623ms
02/24/2023 11:59:30 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 211.0903 ms
02/24/2023 11:59:30 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 211.4004ms
02/24/2023 11:59:58 +01:00 Execution BackgroundServerProcess is in the Failed state now due to an exception, execution will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 11:59:58 +01:00 Execution BackgroundServerProcess is in the Failed state now due to an exception, execution will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:00:27 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:29.5829915 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:00:27 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:29.5821857 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:00:42 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:44.5929164 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:00:42 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:44.5930022 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:01:12 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:14.1922800 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:01:12 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:14.1922040 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:01:27 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:29.1974930 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:01:27 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:29.1982790 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:01:42 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:44.2031346 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:01:42 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:44.2020270 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:12 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:13.8302215 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:12 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:13.8313456 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:27 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:28.8367401 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:27 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:28.8359393 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:36 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/User/Login application/json;odata.metadata=minimal;odata.streaming=true 66
02/24/2023 12:02:36 +01:00 CORS policy execution successful.
02/24/2023 12:02:36 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/24/2023 12:02:36 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 12:02:36 +01:00 info
02/24/2023 12:02:36 +01:00 Entity Framework Core "6.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.0"' with options: "None"
02/24/2023 12:02:42 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:43.8426286 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:42 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:43.8433590 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:46 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/User/Login application/json;odata.metadata=minimal;odata.streaming=true 66
02/24/2023 12:02:46 +01:00 CORS policy execution successful.
02/24/2023 12:02:46 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/24/2023 12:02:46 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 12:02:46 +01:00 info
02/24/2023 12:02:46 +01:00 Entity Framework Core "6.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.0"' with options: "None"
02/24/2023 12:02:51 +01:00 An error occurred using the connection to database '"SurveyDb"' on server '"localhost\SQLEXPRESS"'.
02/24/2023 12:02:51 +01:00 An error occurred using the connection to database '"SurveyDb"' on server '"localhost\SQLEXPRESS"'.
02/24/2023 12:02:51 +01:00 An exception occurred while iterating over the results of a query for context type '"InternalSurvey.Api.Data.ApplicationDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at Microsoft.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at Microsoft.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Boolean parallel, String cachedFQDN, SQLDNSInfo& pendingDNSInfo)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000"
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at Microsoft.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at Microsoft.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Boolean parallel, String cachedFQDN, SQLDNSInfo& pendingDNSInfo)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:51 +01:00 An exception occurred while iterating over the results of a query for context type '"InternalSurvey.Api.Data.ApplicationDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at Microsoft.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at Microsoft.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Boolean parallel, String cachedFQDN, SQLDNSInfo& pendingDNSInfo)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000"
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at Microsoft.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at Microsoft.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Boolean parallel, String cachedFQDN, SQLDNSInfo& pendingDNSInfo)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:51 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 5274.2398ms
02/24/2023 12:02:51 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 15061.8556ms
02/24/2023 12:02:51 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/24/2023 12:02:51 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/24/2023 12:02:51 +01:00 HTTP "POST" "/api/User/Login" responded 500 in 5285.3562 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at Microsoft.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at Microsoft.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Boolean parallel, String cachedFQDN, SQLDNSInfo& pendingDNSInfo)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at InternalSurvey.Api.Controllers.UserController.Login(LoginUserDto model) in /Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api/Controllers/UserController.cs:line 60
   at lambda_method13(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:51 +01:00 HTTP "POST" "/api/User/Login" responded 500 in 15199.2579 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at Microsoft.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at Microsoft.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Boolean parallel, String cachedFQDN, SQLDNSInfo& pendingDNSInfo)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at InternalSurvey.Api.Controllers.UserController.Login(LoginUserDto model) in /Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api/Controllers/UserController.cs:line 60
   at lambda_method13(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:51 +01:00 An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at Microsoft.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at Microsoft.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Boolean parallel, String cachedFQDN, SQLDNSInfo& pendingDNSInfo)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at InternalSurvey.Api.Controllers.UserController.Login(LoginUserDto model) in /Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api/Controllers/UserController.cs:line 60
   at lambda_method13(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:51 +01:00 An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at Microsoft.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at Microsoft.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Boolean parallel, String cachedFQDN, SQLDNSInfo& pendingDNSInfo)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at InternalSurvey.Api.Controllers.UserController.Login(LoginUserDto model) in /Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api/Controllers/UserController.cs:line 60
   at lambda_method13(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:51 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/User/Login application/json;odata.metadata=minimal;odata.streaming=true 66 - 500 - text/plain;+charset=utf-8 5302.7056ms
02/24/2023 12:02:51 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/User/Login application/json;odata.metadata=minimal;odata.streaming=true 66 - 500 - text/plain;+charset=utf-8 15243.6237ms
02/24/2023 12:02:57 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:58.8495826 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 12:02:57 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:58.8529756 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:53:20 +01:00 Entity Framework Core "6.0.0" initialized '"ApplicationDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.0"' with options: "None"
02/24/2023 15:53:35 +01:00 Start installing Hangfire SQL objects...
02/24/2023 15:53:49 +01:00 An exception occurred while trying to perform the migration. Retrying...
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:53:49 +01:00 An exception occurred while trying to perform the migration. Retrying...
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:53:49 +01:00 An exception occurred while trying to perform the migration.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:53:49 +01:00 Was unable to perform the Hangfire schema migration due to an exception. Ignore this message unless you've just installed or upgraded Hangfire.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:53:50 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
02/24/2023 15:53:50 +01:00 Starting Hangfire Server using job storage: 'SQL Server: localhost\SQLEXPRESS@SurveyDb'
02/24/2023 15:53:50 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/24/2023 15:53:50 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/24/2023 15:53:50 +01:00 Now listening on: "http://localhost:41144"
02/24/2023 15:53:50 +01:00 Starting Hangfire Server using job storage: 'SQL Server: localhost\SQLEXPRESS@SurveyDb'
02/24/2023 15:53:50 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/24/2023 15:53:50 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/24/2023 15:53:50 +01:00 Execution BackgroundServerProcess is in the Failed state now due to an exception, execution will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:53:50 +01:00 Application started. Press Ctrl+C to shut down.
02/24/2023 15:53:50 +01:00 Hosting environment: "Development"
02/24/2023 15:53:50 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
02/24/2023 15:53:51 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/ - -
02/24/2023 15:53:51 +01:00 Failed to determine the https port for redirect.
02/24/2023 15:53:51 +01:00 HTTP "GET" "/" responded 301 in 10.5196 ms
02/24/2023 15:53:51 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/ - - - 301 0 - 22.0236ms
02/24/2023 15:53:51 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/index.html - -
02/24/2023 15:53:51 +01:00 HTTP "GET" "/index.html" responded 200 in 26.7872 ms
02/24/2023 15:53:51 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/index.html - - - 200 - text/html;charset=utf-8 27.0913ms
02/24/2023 15:53:51 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui-standalone-preset.js - -
02/24/2023 15:53:51 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui.css - -
02/24/2023 15:53:51 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui-bundle.js - -
02/24/2023 15:53:52 +01:00 Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
02/24/2023 15:53:52 +01:00 Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
02/24/2023 15:53:52 +01:00 Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
02/24/2023 15:53:52 +01:00 HTTP "GET" "/swagger-ui-standalone-preset.js" responded 200 in 206.3680 ms
02/24/2023 15:53:52 +01:00 HTTP "GET" "/swagger-ui-bundle.js" responded 200 in 206.3756 ms
02/24/2023 15:53:52 +01:00 HTTP "GET" "/swagger-ui.css" responded 200 in 206.3588 ms
02/24/2023 15:53:52 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui.css - - - 200 144929 text/css 234.0580ms
02/24/2023 15:53:52 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui-bundle.js - - - 200 1061536 application/javascript 234.0597ms
02/24/2023 15:53:52 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 234.0588ms
02/24/2023 15:53:52 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - -
02/24/2023 15:53:52 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/favicon-32x32.png - -
02/24/2023 15:53:52 +01:00 Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
02/24/2023 15:53:52 +01:00 HTTP "GET" "/favicon-32x32.png" responded 200 in 0.2897 ms
02/24/2023 15:53:52 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/favicon-32x32.png - - - 200 628 image/png 0.4360ms
02/24/2023 15:53:52 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 228.5753 ms
02/24/2023 15:53:52 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 228.9845ms
02/24/2023 15:54:19 +01:00 Execution BackgroundServerProcess is in the Failed state now due to an exception, execution will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:54:19 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:29.0743437 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:54:49 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:58.6700151 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:54:49 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:29.5906972 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:55:04 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:13.6765819 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:55:04 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:44.5968149 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:55:33 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:14.2181981 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:55:33 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:43.2979871 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:55:48 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:58.3064451 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:55:48 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:29.2266489 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:56:03 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:13.3123340 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:56:03 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:44.2335203 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:56:33 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:13.8144051 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 15:56:33 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:42.8945020 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 25 - Connection string is not valid)
 ---> System.Net.Sockets.SocketException (0x80004005): Undefined error: 0
   at System.Data.SqlClient.SNI.SSRP.GetPortByInstanceName(String browserHostName, String instanceName)
   at System.Data.SqlClient.SNI.SNIProxy.CreateTcpHandle(DataSource details, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
02/24/2023 16:20:20 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/24/2023 16:20:20 +01:00 Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/24/2023 16:20:20 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("70"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/24/2023 16:20:21 +01:00 Applying migration '"20200916091934_InitialCreate"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916091934_InitialCreate', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200916135823_Entities"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Questions] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    [Options] nvarchar(max) NULL,
    [QuestionType] int NOT NULL,
    CONSTRAINT [PK_Questions] PRIMARY KEY ([Id])
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Respondents] (
    [Id] int NOT NULL IDENTITY,
    [Email] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Respondents] PRIMARY KEY ([Id])
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Surveys] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [EndDate] datetime2 NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Surveys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Surveys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [QuestionOrders] (
    [Id] int NOT NULL IDENTITY,
    [QuestionId] int NOT NULL,
    [SurveyId] int NOT NULL,
    [Order] int NOT NULL,
    CONSTRAINT [PK_QuestionOrders] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_QuestionOrders_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_QuestionOrders_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResponses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [HasVoted] bit NOT NULL,
    CONSTRAINT [PK_SurveyResponses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResponses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_SurveyResponses_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Responses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyResponseId] int NOT NULL,
    [QuestionId] int NOT NULL,
    [Answer] nvarchar(max) NULL,
    CONSTRAINT [PK_Responses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Responses_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId] FOREIGN KEY ([SurveyResponseId]) REFERENCES [SurveyResponses] ([Id]) ON DELETE CASCADE
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("105"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [Email])
VALUES (1, N'rei.xhiani@atis.al'),
(2, N'nexhip.alimadhi@atis.al'),
(3, N'lidia.dishnica@atis.al');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FirstName], [LastName], [ModifiedBy], [ModifiedOn], [Password])
VALUES (1, 1, '2020-09-16T15:58:23.0343274+02:00', NULL, NULL, N'atisadmin@atis.al', N'Atis', N'Admin', NULL, NULL, N'1234');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_QuestionId] ON [QuestionOrders] ([QuestionId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_SurveyId] ON [QuestionOrders] ([SurveyId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_QuestionId] ON [Responses] ([QuestionId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResponseId] ON [Responses] ([SurveyResponseId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_RespondentId] ON [SurveyResponses] ([RespondentId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_SurveyId] ON [SurveyResponses] ([SurveyId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_UserId] ON [Surveys] ([UserId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916135823_Entities', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200917094757_addEntityModification"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_Questions_QuestionId];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResponses];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_QuestionId] ON [Responses];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResponseId] ON [Responses];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("52"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'Answer');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Responses] DROP COLUMN [Answer];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'QuestionId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Responses] DROP COLUMN [QuestionId];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResponseId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResponseId];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'Options');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Questions] DROP COLUMN [Options];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [Other] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [RespondentId] int NOT NULL DEFAULT 0;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyQuestionOptionsId] int NOT NULL DEFAULT 0;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyQuestionOptions] (
    [Id] int NOT NULL IDENTITY,
    [Option] nvarchar(max) NULL,
    [QuestionOrderId] int NOT NULL,
    CONSTRAINT [PK_SurveyQuestionOptions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId] FOREIGN KEY ([QuestionOrderId]) REFERENCES [QuestionOrders] ([Id]) ON DELETE CASCADE
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:47:56.9588654+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_RespondentId] ON [Responses] ([RespondentId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyQuestionOptionsId] ON [Responses] ([SurveyQuestionOptionsId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions] ([QuestionOrderId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyQuestionOptions_SurveyQuestionOptionsId] FOREIGN KEY ([SurveyQuestionOptionsId]) REFERENCES [SurveyQuestionOptions] ([Id]) ON DELETE CASCADE;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917094757_addEntityModification', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200917095045_Entities2"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:50:44.8230684+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917095045_Entities2', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200917135857_AddedBaseEntityInRespondent"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedBy] int NOT NULL DEFAULT 0;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedOn] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedBy] int NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedOn] datetime2 NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedBy] int NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedOn] datetime2 NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T15:58:57.0252736+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917135857_AddedBaseEntityInRespondent', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200918121505_EntitiesNewProperty"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [StartDate] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NOT NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [DeletedOn] datetime2 NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [DeletedOn] datetime2 NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [QuestionOrders] ADD [DeletedOn] datetime2 NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-18T14:15:05.2631694+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200918121505_EntitiesNewProperty', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200919211010_AddAspNetUsersToDb"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] DROP CONSTRAINT [FK_Surveys_Users_UserId];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [Users];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Surveys_UserId] ON [Surveys];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 2;
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 3;
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [AspNetUsersId] nvarchar(450) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserLogins] (
    [Id] int NOT NULL IDENTITY,
    [LoginProvider] nvarchar(128) NULL,
    [ProviderKey] nvarchar(128) NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserTokens] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [LoginProvider] nvarchar(128) NULL,
    [Name] nvarchar(128) NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_AspNetUsersId] ON [Surveys] ([AspNetUsersId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserTokens_UserId] ON [AspNetUserTokens] ([UserId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD CONSTRAINT [FK_Surveys_AspNetUsers_AspNetUsersId] FOREIGN KEY ([AspNetUsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200919211010_AddAspNetUsersToDb', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200920221845_ChangeBaseEntity"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'ModifiedBy');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'DeletedBy');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'CreatedBy');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'ModifiedBy');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'DeletedBy');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'CreatedBy');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'ModifiedBy');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [Questions] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'DeletedBy');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Questions] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'CreatedBy');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Questions] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'ModifiedBy');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var15 sysname;
SELECT @var15 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'DeletedBy');
IF @var15 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var15 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var16 sysname;
SELECT @var16 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'CreatedBy');
IF @var16 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var16 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200920221845_ChangeBaseEntity', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200921125414_SeedUserData"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921125414_SeedUserData', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200921130101_SeedUData"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [ModifiedBy], [ModifiedOn], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (N'a4c95d33-b702-499c-b436-621e786e7518', 0, NULL, N'atisadmin@atis.al', '2020-09-21T15:01:01.5661250+02:00', NULL, NULL, N'atisadmin@atis.al', CAST(0 AS bit), N'Atis', N'Admin', CAST(0 AS bit), NULL, NULL, NULL, NULL, NULL, N'Admin123*', NULL, CAST(0 AS bit), NULL, CAST(0 AS bit), NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] OFF;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
VALUES (1, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'rei.xhiani@atis.al', NULL, NULL),
(2, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'nexhip.alimadhi@atis.al', NULL, NULL),
(3, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'lidia.dishnica@atis.al', NULL, NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921130101_SeedUData', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200928083401_NewAttributeSurvey"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [QuestionOrders];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var17 sysname;
SELECT @var17 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'QuestionOrderId');
IF @var17 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var17 + '];');
ALTER TABLE [SurveyQuestionOptions] DROP COLUMN [QuestionOrderId];"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [SwitchOffRespondents] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [VotingRespondents] nvarchar(max) NULL;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [QuestionId] int NOT NULL DEFAULT 0;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [Order] int NOT NULL DEFAULT 0;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [SurveyId] int NOT NULL DEFAULT 0;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T10:34:01.2090749+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionId] ON [SurveyQuestionOptions] ([QuestionId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Questions_SurveyId] ON [Questions] ([SurveyId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD CONSTRAINT [FK_Questions_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD CONSTRAINT [FK_SurveyQuestionOptions_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928083401_NewAttributeSurvey', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200928144818_NewAttributeQuestion"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [HasOthers] bit NOT NULL DEFAULT CAST(0 AS bit);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T16:48:17.7770383+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928144818_NewAttributeQuestion', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20200930134949_IsRequiredQuestion"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [IsRequired] bit NOT NULL DEFAULT CAST(0 AS bit);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-30T15:49:48.6583417+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200930134949_IsRequiredQuestion', N'7.0.3');"
02/24/2023 16:20:21 +01:00 Applying migration '"20201004100612_AddSurveyResult"'.
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyResultId] int NOT NULL DEFAULT 0;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResults] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    CONSTRAINT [PK_SurveyResults] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResults_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id])
);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-04T12:06:12.0626532+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResultId] ON [Responses] ([SurveyResultId]);"
02/24/2023 16:20:21 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResults_SurveyId] ON [SurveyResults] ([SurveyId]);"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId] FOREIGN KEY ([SurveyResultId]) REFERENCES [SurveyResults] ([Id]) ON DELETE CASCADE;"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201004100612_AddSurveyResult', N'7.0.3');"
02/24/2023 16:20:22 +01:00 Applying migration '"20201007110338_DelTableSurveyResult"'.
02/24/2023 16:20:22 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId];"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResults];"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResultId] ON [Responses];"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var18 sysname;
SELECT @var18 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResultId');
IF @var18 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var18 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResultId];"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-07T13:03:37.6962785+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201007110338_DelTableSurveyResult', N'7.0.3');"
02/24/2023 16:20:22 +01:00 Applying migration '"20201008105847_notRequiredFields"'.
02/24/2023 16:20:22 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var19 sysname;
SELECT @var19 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'StartDate');
IF @var19 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var19 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [StartDate] datetime2 NULL;"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var20 sysname;
SELECT @var20 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var20 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var20 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NULL;"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-08T12:58:46.7099892+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201008105847_notRequiredFields', N'7.0.3');"
02/24/2023 16:20:22 +01:00 Applying migration '"20201021140249_NewMigrationForSeedData"'.
02/24/2023 16:20:22 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e4dc78d1-91aa-4d3e-aa17-f244b5e72c63', [CreatedOn] = '2020-10-21T16:02:49.0479290+02:00', [NormalizedEmail] = N'ATISADMIN@ATIS.AL', [NormalizedUserName] = N'ATISADMIN@ATIS.AL', [PasswordHash] = N'AQAAAAEAACcQAAAAEPQsdgJx2Hj+/ZD7pLu/Tu5fJgfZVg/eP9IoLzFjv53wAimbkT18LXrgxncu7aT9BQ==', [SecurityStamp] = N'639ef89c-2917-496c-9a94-e4d43d675c82', [UserName] = N'atisadmin@atis.al'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201021140249_NewMigrationForSeedData', N'7.0.3');"
02/24/2023 16:20:22 +01:00 Applying migration '"20201117152919_addComments"'.
02/24/2023 16:20:22 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Comments] (
    [CommentId] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [DeletedBy] nvarchar(max) NULL,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [CommnetText] nvarchar(max) NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([CommentId]),
    CONSTRAINT [FK_Comments_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'023168dc-35d5-45de-b757-62f544cb6a92', [CreatedOn] = '2020-11-17T16:29:18.6744638+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAEMpfhd+NM76ChIN4Kpb27ECxxURQ5HggRhfqEWy022NwP61xZT6KAvAYT08oSsks0w==', [SecurityStamp] = N'23b1a109-bf36-4e7a-8f40-dd7762341d49'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_RespondentId] ON [Comments] ([RespondentId]);"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_SurveyId] ON [Comments] ([SurveyId]);"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117152919_addComments', N'7.0.3');"
02/24/2023 16:20:22 +01:00 Applying migration '"20201117153042_addComment"'.
02/24/2023 16:20:22 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e6deaa16-34ee-45fb-b219-c608da67caa6', [CreatedOn] = '2020-11-17T16:30:42.1671059+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAENl767SDv10vi7qn8FQl66v1qYw/LBX6BM1aEsAN4UmbI7nEQPecqg9MuK+7RgMfRA==', [SecurityStamp] = N'30c126a7-876b-4998-bdee-84d92d4925fd'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/24/2023 16:20:22 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117153042_addComment', N'7.0.3');"
02/24/2023 16:21:28 +01:00 Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/24/2023 16:21:28 +01:00 Executed DbCommand ("116"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/24/2023 16:21:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/24/2023 16:21:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/24/2023 16:21:28 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/24/2023 16:21:28 +01:00 No migrations were applied. The database is already up to date.
02/24/2023 16:21:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/24/2023 16:21:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/24/2023 16:21:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/24/2023 16:21:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/24/2023 16:21:28 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/24/2023 16:21:28 +01:00 No migrations were applied. The database is already up to date.
02/24/2023 16:21:28 +01:00 Start installing Hangfire SQL objects...
02/24/2023 16:21:29 +01:00 Hangfire SQL objects installed.
02/24/2023 16:21:29 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
02/24/2023 16:21:29 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
02/24/2023 16:21:29 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/24/2023 16:21:29 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/24/2023 16:21:29 +01:00 Server 54d5fbcb-4142-451e-b898-dbfda6f8e7c2 successfully announced in 82,8697 ms
02/24/2023 16:21:29 +01:00 Server 54d5fbcb-4142-451e-b898-dbfda6f8e7c2 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/24/2023 16:21:29 +01:00 Server 54d5fbcb-4142-451e-b898-dbfda6f8e7c2 all the dispatchers started
02/24/2023 16:21:29 +01:00 Now listening on: "http://localhost:41144"
02/24/2023 16:21:29 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
02/24/2023 16:21:29 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/24/2023 16:21:29 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/24/2023 16:21:29 +01:00 Application started. Press Ctrl+C to shut down.
02/24/2023 16:21:29 +01:00 Hosting environment: "Development"
02/24/2023 16:21:29 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
02/24/2023 16:21:29 +01:00 Server b074cef1-49cd-4859-bd68-88ec84dd2888 successfully announced in 33,6378 ms
02/24/2023 16:21:29 +01:00 Server b074cef1-49cd-4859-bd68-88ec84dd2888 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/24/2023 16:21:30 +01:00 Server b074cef1-49cd-4859-bd68-88ec84dd2888 all the dispatchers started
02/24/2023 16:21:30 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/index.html - -
02/24/2023 16:21:30 +01:00 Failed to determine the https port for redirect.
02/24/2023 16:21:30 +01:00 HTTP "GET" "/index.html" responded 200 in 35.0852 ms
02/24/2023 16:21:30 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/index.html - - - 200 - text/html;charset=utf-8 40.7072ms
02/24/2023 16:21:31 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui-bundle.js - -
02/24/2023 16:21:31 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui.css - -
02/24/2023 16:21:31 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui-standalone-preset.js - -
02/24/2023 16:21:31 +01:00 Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
02/24/2023 16:21:31 +01:00 Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
02/24/2023 16:21:31 +01:00 HTTP "GET" "/swagger-ui-standalone-preset.js" responded 200 in 354.8169 ms
02/24/2023 16:21:31 +01:00 HTTP "GET" "/swagger-ui.css" responded 200 in 354.5678 ms
02/24/2023 16:21:31 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 356.4160ms
02/24/2023 16:21:31 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui.css - - - 200 144929 text/css 356.5651ms
02/24/2023 16:21:31 +01:00 Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
02/24/2023 16:21:31 +01:00 HTTP "GET" "/swagger-ui-bundle.js" responded 200 in 360.6727 ms
02/24/2023 16:21:31 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui-bundle.js - - - 200 1061536 text/javascript 361.3134ms
02/24/2023 16:21:31 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - -
02/24/2023 16:21:31 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 161.7792 ms
02/24/2023 16:21:31 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 162.4276ms
02/24/2023 16:23:19 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/User/Login application/json;odata.metadata=minimal;odata.streaming=true 83
02/24/2023 16:23:19 +01:00 CORS policy execution successful.
02/24/2023 16:23:19 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/24/2023 16:23:19 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 16:23:19 +01:00 info
02/24/2023 16:23:19 +01:00 Executed DbCommand ("38"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
02/24/2023 16:23:19 +01:00 Executed DbCommand ("12"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
02/24/2023 16:23:19 +01:00 Executed DbCommand ("31"ms) [Parameters=["@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedBy] = @p2, [CreatedOn] = @p3, [DeletedBy] = @p4, [DeletedOn] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [ModifiedBy] = @p12, [ModifiedOn] = @p13, [NormalizedEmail] = @p14, [NormalizedUserName] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;"
02/24/2023 16:23:19 +01:00 Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
02/24/2023 16:23:19 +01:00 AuthenticationScheme: "Identity.Application" signed in.
02/24/2023 16:23:19 +01:00 Executed DbCommand ("21"ms) [Parameters=["@__model_Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__model_Email_0"
02/24/2023 16:23:19 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Controllers.UserController+LoginResponse"'.
02/24/2023 16:23:19 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 487.4053ms
02/24/2023 16:23:19 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/24/2023 16:23:19 +01:00 HTTP "POST" "/api/User/Login" responded 200 in 546.2342 ms
02/24/2023 16:23:19 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/User/Login application/json;odata.metadata=minimal;odata.streaming=true 83 - 200 659 application/json;+charset=utf-8 552.6511ms
02/24/2023 16:26:34 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/Login - -
02/24/2023 16:26:34 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/Login - -
02/24/2023 16:26:34 +01:00 CORS policy execution successful.
02/24/2023 16:26:34 +01:00 CORS policy execution successful.
02/24/2023 16:26:34 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/Login - - - 204 - - 31.5515ms
02/24/2023 16:26:34 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/Login - - - 204 - - 31.9960ms
02/24/2023 16:26:34 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/User/Login application/json 52
02/24/2023 16:26:34 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/User/Login application/json 52
02/24/2023 16:26:34 +01:00 CORS policy execution successful.
02/24/2023 16:26:34 +01:00 CORS policy execution successful.
02/24/2023 16:26:34 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/24/2023 16:26:34 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/24/2023 16:26:34 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 16:26:34 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 16:26:34 +01:00 info
02/24/2023 16:26:34 +01:00 info
02/24/2023 16:26:35 +01:00 Executed DbCommand ("144"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
02/24/2023 16:26:35 +01:00 Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
02/24/2023 16:26:35 +01:00 Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
02/24/2023 16:26:35 +01:00 AuthenticationScheme: "Identity.Application" signed in.
02/24/2023 16:26:35 +01:00 Executed DbCommand ("2"ms) [Parameters=["@__model_Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__model_Email_0"
02/24/2023 16:26:35 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Controllers.UserController+LoginResponse"'.
02/24/2023 16:26:35 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 452.3499ms
02/24/2023 16:26:35 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/24/2023 16:26:35 +01:00 HTTP "POST" "/api/User/Login" responded 200 in 459.5655 ms
02/24/2023 16:26:35 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/User/Login application/json 52 - 200 659 application/json;+charset=utf-8 459.9318ms
02/24/2023 16:26:35 +01:00 Executed DbCommand ("19"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
02/24/2023 16:26:35 +01:00 AuthenticationScheme: "Identity.Application" signed in.
02/24/2023 16:26:35 +01:00 Executed DbCommand ("5"ms) [Parameters=["@__model_Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__model_Email_0"
02/24/2023 16:26:35 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Controllers.UserController+LoginResponse"'.
02/24/2023 16:26:35 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 498.5908ms
02/24/2023 16:26:35 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/24/2023 16:26:35 +01:00 HTTP "POST" "/api/User/Login" responded 200 in 505.8055 ms
02/24/2023 16:26:35 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/User/Login application/json 52 - 200 659 application/json;+charset=utf-8 506.1553ms
02/24/2023 16:26:35 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - -
02/24/2023 16:26:35 +01:00 CORS policy execution successful.
02/24/2023 16:26:35 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - - - 204 - - 0.2209ms
02/24/2023 16:26:35 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetUser - -
02/24/2023 16:26:35 +01:00 CORS policy execution successful.
02/24/2023 16:26:35 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAllPublished - -
02/24/2023 16:26:35 +01:00 CORS policy execution successful.
02/24/2023 16:26:35 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAllPublished - - - 204 - - 0.1563ms
02/24/2023 16:26:35 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAllPublished - -
02/24/2023 16:26:35 +01:00 CORS policy execution successful.
02/24/2023 16:26:35 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
02/24/2023 16:26:35 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/24/2023 16:26:35 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 16:26:35 +01:00 Route matched with "{action = \"GetSurveysPublished\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveysPublished(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/24/2023 16:26:35 +01:00 Executed DbCommand ("39"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
02/24/2023 16:26:35 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
02/24/2023 16:26:35 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 57.7332ms
02/24/2023 16:26:35 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/24/2023 16:26:35 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 99.0624 ms
02/24/2023 16:26:35 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetUser - - - 200 153 application/json;+charset=utf-8 99.2781ms
02/24/2023 16:26:35 +01:00 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
02/24/2023 16:26:35 +01:00 Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE ([s].[DeletedOn] IS NULL) AND ([s].[StartDate] IS NOT NULL)
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/24/2023 16:26:35 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:26:35 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)" in 194.7637ms
02/24/2023 16:26:35 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
02/24/2023 16:26:35 +01:00 HTTP "GET" "/api/survey/GetAllPublished" responded 200 in 227.4593 ms
02/24/2023 16:26:35 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAllPublished - - - 200 56 application/json;+charset=utf-8 227.7362ms
02/24/2023 16:26:40 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:26:40 +01:00 CORS policy execution successful.
02/24/2023 16:26:40 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.4929ms
02/24/2023 16:26:40 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:26:40 +01:00 CORS policy execution successful.
02/24/2023 16:26:40 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:26:40 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:26:41 +01:00 Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/24/2023 16:26:41 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:26:41 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 101.8576ms
02/24/2023 16:26:41 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:26:41 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 110.3085 ms
02/24/2023 16:26:41 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 179 application/json;+charset=utf-8 110.8183ms
02/24/2023 16:26:43 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Delete/1 - -
02/24/2023 16:26:43 +01:00 CORS policy execution successful.
02/24/2023 16:26:43 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Delete/1 - - - 204 - - 0.5069ms
02/24/2023 16:26:43 +01:00 Request starting HTTP/1.1 DELETE http://localhost:41144/api/respondent/Delete/1 application/json 10
02/24/2023 16:26:43 +01:00 CORS policy execution successful.
02/24/2023 16:26:43 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
02/24/2023 16:26:43 +01:00 Route matched with "{action = \"DeleteRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteRespondent(Int32)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:26:43 +01:00 Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[Id] = @__p_0"
02/24/2023 16:26:43 +01:00 Executed DbCommand ("31"ms) [Parameters=["@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Respondents] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [DeletedBy] = @p2, [DeletedOn] = @p3, [Email] = @p4, [ModifiedBy] = @p5, [ModifiedOn] = @p6
OUTPUT 1
WHERE [Id] = @p7;"
02/24/2023 16:26:43 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
02/24/2023 16:26:43 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)" in 69.779ms
02/24/2023 16:26:43 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
02/24/2023 16:26:43 +01:00 HTTP "DELETE" "/api/respondent/Delete/1" responded 200 in 76.1388 ms
02/24/2023 16:26:43 +01:00 Request finished HTTP/1.1 DELETE http://localhost:41144/api/respondent/Delete/1 application/json 10 - 200 53 application/json;+charset=utf-8 76.3980ms
02/24/2023 16:26:44 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:26:44 +01:00 CORS policy execution successful.
02/24/2023 16:26:44 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:26:44 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:26:44 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/24/2023 16:26:44 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:26:44 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 23.9611ms
02/24/2023 16:26:44 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:26:44 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 25.3378 ms
02/24/2023 16:26:44 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 141 application/json;+charset=utf-8 26.3975ms
02/24/2023 16:26:46 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Delete/2 - -
02/24/2023 16:26:46 +01:00 CORS policy execution successful.
02/24/2023 16:26:46 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Delete/2 - - - 204 - - 0.3872ms
02/24/2023 16:26:46 +01:00 Request starting HTTP/1.1 DELETE http://localhost:41144/api/respondent/Delete/2 application/json 10
02/24/2023 16:26:46 +01:00 CORS policy execution successful.
02/24/2023 16:26:46 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
02/24/2023 16:26:46 +01:00 Route matched with "{action = \"DeleteRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteRespondent(Int32)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:26:46 +01:00 Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[Id] = @__p_0"
02/24/2023 16:26:46 +01:00 Executed DbCommand ("18"ms) [Parameters=["@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Respondents] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [DeletedBy] = @p2, [DeletedOn] = @p3, [Email] = @p4, [ModifiedBy] = @p5, [ModifiedOn] = @p6
OUTPUT 1
WHERE [Id] = @p7;"
02/24/2023 16:26:46 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
02/24/2023 16:26:46 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)" in 28.8863ms
02/24/2023 16:26:46 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
02/24/2023 16:26:46 +01:00 HTTP "DELETE" "/api/respondent/Delete/2" responded 200 in 29.8425 ms
02/24/2023 16:26:46 +01:00 Request finished HTTP/1.1 DELETE http://localhost:41144/api/respondent/Delete/2 application/json 10 - 200 53 application/json;+charset=utf-8 30.0979ms
02/24/2023 16:26:46 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:26:46 +01:00 CORS policy execution successful.
02/24/2023 16:26:46 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 2.1848ms
02/24/2023 16:26:46 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:26:46 +01:00 CORS policy execution successful.
02/24/2023 16:26:46 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:26:46 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:26:46 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/24/2023 16:26:46 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:26:46 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 12.4675ms
02/24/2023 16:26:46 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:26:46 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 13.6293 ms
02/24/2023 16:26:46 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 98 application/json;+charset=utf-8 14.0347ms
02/24/2023 16:26:52 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Delete/3 - -
02/24/2023 16:26:52 +01:00 CORS policy execution successful.
02/24/2023 16:26:52 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Delete/3 - - - 204 - - 1.0256ms
02/24/2023 16:26:52 +01:00 Request starting HTTP/1.1 DELETE http://localhost:41144/api/respondent/Delete/3 application/json 10
02/24/2023 16:26:52 +01:00 CORS policy execution successful.
02/24/2023 16:26:52 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
02/24/2023 16:26:52 +01:00 Route matched with "{action = \"DeleteRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteRespondent(Int32)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:26:52 +01:00 Executed DbCommand ("55"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[Id] = @__p_0"
02/24/2023 16:26:52 +01:00 Executed DbCommand ("7"ms) [Parameters=["@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Respondents] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [DeletedBy] = @p2, [DeletedOn] = @p3, [Email] = @p4, [ModifiedBy] = @p5, [ModifiedOn] = @p6
OUTPUT 1
WHERE [Id] = @p7;"
02/24/2023 16:26:52 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
02/24/2023 16:26:52 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)" in 211.2221ms
02/24/2023 16:26:52 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
02/24/2023 16:26:52 +01:00 HTTP "DELETE" "/api/respondent/Delete/3" responded 200 in 212.4463 ms
02/24/2023 16:26:52 +01:00 Request finished HTTP/1.1 DELETE http://localhost:41144/api/respondent/Delete/3 application/json 10 - 200 53 application/json;+charset=utf-8 213.3670ms
02/24/2023 16:26:52 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:26:52 +01:00 CORS policy execution successful.
02/24/2023 16:26:52 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.5718ms
02/24/2023 16:26:52 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:26:52 +01:00 CORS policy execution successful.
02/24/2023 16:26:52 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:26:52 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:26:52 +01:00 Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/24/2023 16:26:52 +01:00 No data
02/24/2023 16:26:52 +01:00 Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
02/24/2023 16:26:52 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 10.5942ms
02/24/2023 16:26:52 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:26:52 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 400 in 11.8085 ms
02/24/2023 16:26:52 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 400 21 application/json;+charset=utf-8 12.4048ms
02/24/2023 16:26:59 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Add - -
02/24/2023 16:26:59 +01:00 CORS policy execution successful.
02/24/2023 16:26:59 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Add - - - 204 - - 1.2409ms
02/24/2023 16:26:59 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/respondent/Add application/json 44
02/24/2023 16:26:59 +01:00 CORS policy execution successful.
02/24/2023 16:26:59 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
02/24/2023 16:26:59 +01:00 Route matched with "{action = \"AddRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRespondent(InternalSurvey.Api.Dtos.RespondentDto)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:26:59 +01:00 Executed DbCommand ("9"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Respondents] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
02/24/2023 16:26:59 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
02/24/2023 16:26:59 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)" in 66.0451ms
02/24/2023 16:26:59 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
02/24/2023 16:26:59 +01:00 HTTP "POST" "/api/respondent/Add" responded 200 in 77.3692 ms
02/24/2023 16:26:59 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/respondent/Add application/json 44 - 200 34 application/json;+charset=utf-8 78.0966ms
02/24/2023 16:26:59 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:26:59 +01:00 CORS policy execution successful.
02/24/2023 16:26:59 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.2005ms
02/24/2023 16:26:59 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:26:59 +01:00 CORS policy execution successful.
02/24/2023 16:26:59 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:26:59 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:26:59 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/24/2023 16:27:00 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:27:00 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 131.729ms
02/24/2023 16:27:00 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:27:00 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 132.3448 ms
02/24/2023 16:27:00 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 101 application/json;+charset=utf-8 132.4977ms
02/24/2023 16:27:12 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Add - -
02/24/2023 16:27:12 +01:00 CORS policy execution successful.
02/24/2023 16:27:12 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Add - - - 204 - - 0.8927ms
02/24/2023 16:27:12 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/respondent/Add application/json 45
02/24/2023 16:27:12 +01:00 CORS policy execution successful.
02/24/2023 16:27:12 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
02/24/2023 16:27:12 +01:00 Route matched with "{action = \"AddRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRespondent(InternalSurvey.Api.Dtos.RespondentDto)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:27:12 +01:00 Executed DbCommand ("15"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Respondents] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
02/24/2023 16:27:12 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
02/24/2023 16:27:12 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)" in 67.2355ms
02/24/2023 16:27:12 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
02/24/2023 16:27:12 +01:00 HTTP "POST" "/api/respondent/Add" responded 200 in 69.0120 ms
02/24/2023 16:27:12 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/respondent/Add application/json 45 - 200 34 application/json;+charset=utf-8 70.0806ms
02/24/2023 16:27:12 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:12 +01:00 CORS policy execution successful.
02/24/2023 16:27:12 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.2060ms
02/24/2023 16:27:12 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:12 +01:00 CORS policy execution successful.
02/24/2023 16:27:12 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:27:12 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:27:12 +01:00 Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/24/2023 16:27:12 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:27:12 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 32.0226ms
02/24/2023 16:27:12 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:27:12 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 32.6370 ms
02/24/2023 16:27:12 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 147 application/json;+charset=utf-8 32.8194ms
02/24/2023 16:27:13 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:13 +01:00 CORS policy execution successful.
02/24/2023 16:27:13 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - - - 204 - - 0.3559ms
02/24/2023 16:27:13 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:13 +01:00 CORS policy execution successful.
02/24/2023 16:27:13 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
02/24/2023 16:27:13 +01:00 Route matched with "{action = \"GetUsers\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.UserDto]]] GetUsers(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.AspNetUsers])" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 16:27:13 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]"
02/24/2023 16:27:13 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.UserDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:27:13 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)" in 63.5649ms
02/24/2023 16:27:13 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
02/24/2023 16:27:13 +01:00 HTTP "GET" "/api/User/GetAll" responded 200 in 69.9334 ms
02/24/2023 16:27:13 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - - - 200 210 application/json;+charset=utf-8 70.4765ms
02/24/2023 16:27:34 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/Register - -
02/24/2023 16:27:34 +01:00 CORS policy execution successful.
02/24/2023 16:27:34 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/Register - - - 204 - - 0.8048ms
02/24/2023 16:27:34 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/User/Register application/json 133
02/24/2023 16:27:34 +01:00 CORS policy execution successful.
02/24/2023 16:27:34 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Register (InternalSurvey.Api)"'
02/24/2023 16:27:34 +01:00 Route matched with "{action = \"Register\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(InternalSurvey.Api.Dtos.RegisterUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 16:27:34 +01:00 Executed DbCommand ("11"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
02/24/2023 16:27:34 +01:00 Executed DbCommand ("27"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 256), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [ModifiedBy], [ModifiedOn], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);"
02/24/2023 16:27:34 +01:00 Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
02/24/2023 16:27:34 +01:00 AuthenticationScheme: "Identity.Application" signed in.
02/24/2023 16:27:34 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
02/24/2023 16:27:34 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Register (InternalSurvey.Api)" in 125.2566ms
02/24/2023 16:27:34 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Register (InternalSurvey.Api)"'
02/24/2023 16:27:34 +01:00 HTTP "POST" "/api/User/Register" responded 200 in 133.7449 ms
02/24/2023 16:27:34 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/User/Register application/json 133 - 200 55 application/json;+charset=utf-8 134.0796ms
02/24/2023 16:27:34 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:34 +01:00 CORS policy execution successful.
02/24/2023 16:27:34 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - - - 204 - - 0.2651ms
02/24/2023 16:27:34 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:34 +01:00 CORS policy execution successful.
02/24/2023 16:27:34 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
02/24/2023 16:27:34 +01:00 Route matched with "{action = \"GetUsers\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.UserDto]]] GetUsers(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.AspNetUsers])" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 16:27:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]"
02/24/2023 16:27:34 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.UserDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:27:34 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)" in 105.4445ms
02/24/2023 16:27:34 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
02/24/2023 16:27:34 +01:00 HTTP "GET" "/api/User/GetAll" responded 200 in 106.0494 ms
02/24/2023 16:27:34 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - - - 200 377 application/json;+charset=utf-8 106.1798ms
02/24/2023 16:27:48 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:48 +01:00 Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
02/24/2023 16:27:48 +01:00 AuthenticationScheme: "Bearer" was challenged.
02/24/2023 16:27:48 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 401 in 9.4908 ms
02/24/2023 16:27:48 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 401 0 - 10.0711ms
02/24/2023 16:27:56 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAllPublished - -
02/24/2023 16:27:56 +01:00 CORS policy execution successful.
02/24/2023 16:27:56 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAllPublished - - - 204 - - 0.2874ms
02/24/2023 16:27:56 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAllPublished - -
02/24/2023 16:27:56 +01:00 CORS policy execution successful.
02/24/2023 16:27:56 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
02/24/2023 16:27:56 +01:00 Route matched with "{action = \"GetSurveysPublished\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveysPublished(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/24/2023 16:27:56 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE ([s].[DeletedOn] IS NULL) AND ([s].[StartDate] IS NOT NULL)
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/24/2023 16:27:56 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:27:56 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)" in 68.9338ms
02/24/2023 16:27:56 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
02/24/2023 16:27:56 +01:00 HTTP "GET" "/api/survey/GetAllPublished" responded 200 in 101.8652 ms
02/24/2023 16:27:56 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAllPublished - - - 200 56 application/json;+charset=utf-8 102.1027ms
02/24/2023 16:27:57 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:57 +01:00 CORS policy execution successful.
02/24/2023 16:27:57 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.3767ms
02/24/2023 16:27:57 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:57 +01:00 CORS policy execution successful.
02/24/2023 16:27:57 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:27:57 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/24/2023 16:27:57 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/24/2023 16:27:57 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:27:57 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 11.0933ms
02/24/2023 16:27:57 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/24/2023 16:27:57 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 12.4424 ms
02/24/2023 16:27:57 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 147 application/json;+charset=utf-8 12.8099ms
02/24/2023 16:27:58 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:58 +01:00 CORS policy execution successful.
02/24/2023 16:27:58 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 1.5010ms
02/24/2023 16:27:58 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/24/2023 16:27:58 +01:00 CORS policy execution successful.
02/24/2023 16:27:58 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/24/2023 16:27:58 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/24/2023 16:27:58 +01:00 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
02/24/2023 16:27:58 +01:00 Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/24/2023 16:27:58 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:27:58 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 89.9203ms
02/24/2023 16:27:58 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/24/2023 16:27:58 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 97.5812 ms
02/24/2023 16:27:58 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 57 application/json;+charset=utf-8 98.5200ms
02/24/2023 16:28:32 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - -
02/24/2023 16:28:32 +01:00 CORS policy execution successful.
02/24/2023 16:28:32 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - - - 204 - - 0.5345ms
02/24/2023 16:28:32 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetUser - -
02/24/2023 16:28:32 +01:00 CORS policy execution successful.
02/24/2023 16:28:32 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/24/2023 16:28:32 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 16:28:32 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/24/2023 16:28:32 +01:00 CORS policy execution successful.
02/24/2023 16:28:32 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 1.6151ms
02/24/2023 16:28:33 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/24/2023 16:28:33 +01:00 CORS policy execution successful.
02/24/2023 16:28:33 +01:00 Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
02/24/2023 16:28:33 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
02/24/2023 16:28:33 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 89.3375ms
02/24/2023 16:28:33 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/24/2023 16:28:33 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 90.2423 ms
02/24/2023 16:28:33 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetUser - - - 200 153 application/json;+charset=utf-8 90.5077ms
02/24/2023 16:28:33 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/24/2023 16:28:33 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/24/2023 16:28:33 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/24/2023 16:28:33 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 16:28:33 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 19.488ms
02/24/2023 16:28:33 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/24/2023 16:28:33 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 22.8030 ms
02/24/2023 16:28:33 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 57 application/json;+charset=utf-8 23.2452ms
02/24/2023 20:42:23 +01:00 2 servers were removed due to timeout
02/24/2023 20:42:23 +01:00 Server 54d5fbcb-4142-451e-b898-dbfda6f8e7c2 was considered dead by other servers, restarting...
02/24/2023 20:42:23 +01:00 Server 54d5fbcb-4142-451e-b898-dbfda6f8e7c2 caught restart signal...
02/24/2023 20:42:23 +01:00 Server 54d5fbcb-4142-451e-b898-dbfda6f8e7c2 stopped non-gracefully due to ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
02/24/2023 20:42:23 +01:00 Server 54d5fbcb-4142-451e-b898-dbfda6f8e7c2 successfully reported itself as stopped in 29,6044 ms
02/24/2023 20:42:23 +01:00 Server 54d5fbcb-4142-451e-b898-dbfda6f8e7c2 has been stopped in total 111,6733 ms
02/24/2023 20:42:23 +01:00 Server b378b2a2-fbf7-4a9f-b4ca-3da7f7c56edf successfully announced in 8,2467 ms
02/24/2023 20:42:23 +01:00 Server b378b2a2-fbf7-4a9f-b4ca-3da7f7c56edf is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/24/2023 20:42:23 +01:00 Server b378b2a2-fbf7-4a9f-b4ca-3da7f7c56edf all the dispatchers started
02/24/2023 20:42:24 +01:00 Server b074cef1-49cd-4859-bd68-88ec84dd2888 was considered dead by other servers, restarting...
02/24/2023 20:42:24 +01:00 Server b074cef1-49cd-4859-bd68-88ec84dd2888 caught restart signal...
02/24/2023 20:42:24 +01:00 Server b074cef1-49cd-4859-bd68-88ec84dd2888 stopped non-gracefully due to Worker. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
02/24/2023 20:42:24 +01:00 Server b074cef1-49cd-4859-bd68-88ec84dd2888 successfully reported itself as stopped in 3,8702 ms
02/24/2023 20:42:24 +01:00 Server b074cef1-49cd-4859-bd68-88ec84dd2888 has been stopped in total 90,3013 ms
02/24/2023 20:42:24 +01:00 Server e0013034-e018-4ec7-ac46-452d1e508dca successfully announced in 10,3319 ms
02/24/2023 20:42:24 +01:00 Server e0013034-e018-4ec7-ac46-452d1e508dca is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/24/2023 20:53:18 +01:00 Server e0013034-e018-4ec7-ac46-452d1e508dca all the dispatchers started
02/24/2023 21:07:12 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - -
02/24/2023 21:07:12 +01:00 CORS policy execution successful.
02/24/2023 21:07:12 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/24/2023 21:07:12 +01:00 CORS policy execution successful.
02/24/2023 21:07:12 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 1.3654ms
02/24/2023 21:07:12 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - - - 204 - - 1.6765ms
02/24/2023 21:07:12 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetUser - -
02/24/2023 21:07:12 +01:00 CORS policy execution successful.
02/24/2023 21:07:12 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/24/2023 21:07:12 +01:00 CORS policy execution successful.
02/24/2023 21:07:12 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/24/2023 21:07:12 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/24/2023 21:07:12 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 21:07:12 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/24/2023 21:07:12 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/24/2023 21:07:12 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 21:07:12 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 247.7385ms
02/24/2023 21:07:12 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/24/2023 21:07:12 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 252.2138 ms
02/24/2023 21:07:12 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 57 application/json;+charset=utf-8 252.6477ms
02/24/2023 21:07:12 +01:00 Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
02/24/2023 21:07:12 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
02/24/2023 21:07:12 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 267.4884ms
02/24/2023 21:07:12 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/24/2023 21:07:12 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 277.8440 ms
02/24/2023 21:07:12 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetUser - - - 200 153 application/json;+charset=utf-8 278.2718ms
02/24/2023 21:08:18 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - -
02/24/2023 21:08:18 +01:00 CORS policy execution successful.
02/24/2023 21:08:18 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - - - 204 - - 1.5735ms
02/24/2023 21:08:18 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/24/2023 21:08:18 +01:00 CORS policy execution successful.
02/24/2023 21:08:18 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 0.1926ms
02/24/2023 21:08:18 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetUser - -
02/24/2023 21:08:18 +01:00 CORS policy execution successful.
02/24/2023 21:08:18 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/24/2023 21:08:18 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/24/2023 21:08:18 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/24/2023 21:08:18 +01:00 CORS policy execution successful.
02/24/2023 21:08:18 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/24/2023 21:08:18 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/24/2023 21:08:18 +01:00 Executed DbCommand ("39"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
02/24/2023 21:08:18 +01:00 Executed DbCommand ("67"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/24/2023 21:08:18 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
02/24/2023 21:08:18 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 113.4747ms
02/24/2023 21:08:18 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/24/2023 21:08:18 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 179.3353 ms
02/24/2023 21:08:18 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetUser - - - 200 153 application/json;+charset=utf-8 180.7451ms
02/24/2023 21:08:18 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/24/2023 21:08:18 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 118.2841ms
02/24/2023 21:08:18 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/24/2023 21:08:18 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 119.3520 ms
02/24/2023 21:08:18 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 57 application/json;+charset=utf-8 119.8377ms
02/25/2023 04:24:14 +01:00 1 servers were removed due to timeout
02/25/2023 04:39:34 +01:00 Server b378b2a2-fbf7-4a9f-b4ca-3da7f7c56edf was considered dead by other servers, restarting...
02/25/2023 04:39:34 +01:00 Server b378b2a2-fbf7-4a9f-b4ca-3da7f7c56edf caught restart signal...
02/25/2023 04:39:35 +01:00 Server b378b2a2-fbf7-4a9f-b4ca-3da7f7c56edf stopped non-gracefully due to ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
02/25/2023 04:39:35 +01:00 Server b378b2a2-fbf7-4a9f-b4ca-3da7f7c56edf successfully reported itself as stopped in 41,7301 ms
02/25/2023 04:39:35 +01:00 Server b378b2a2-fbf7-4a9f-b4ca-3da7f7c56edf has been stopped in total 52,2985 ms
02/25/2023 04:39:35 +01:00 Server 3e9d02d8-cfea-4120-9bf8-ec3e063e241f successfully announced in 20,2762 ms
02/25/2023 04:39:35 +01:00 Server 3e9d02d8-cfea-4120-9bf8-ec3e063e241f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/25/2023 04:39:35 +01:00 Server 3e9d02d8-cfea-4120-9bf8-ec3e063e241f all the dispatchers started
02/25/2023 09:17:14 +01:00 Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/25/2023 09:17:14 +01:00 Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/25/2023 09:17:14 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/25/2023 09:17:14 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/25/2023 09:17:14 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/25/2023 09:17:14 +01:00 No migrations were applied. The database is already up to date.
02/25/2023 09:17:14 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/25/2023 09:17:14 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/25/2023 09:17:14 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/25/2023 09:17:14 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/25/2023 09:17:14 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/25/2023 09:17:14 +01:00 No migrations were applied. The database is already up to date.
02/25/2023 09:17:14 +01:00 Start installing Hangfire SQL objects...
02/25/2023 09:17:14 +01:00 Hangfire SQL objects installed.
02/25/2023 09:17:14 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
02/25/2023 09:17:14 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
02/25/2023 09:17:14 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/25/2023 09:17:14 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/25/2023 09:17:15 +01:00 Server 3a4b71b1-310b-4684-8ca3-7ac90f00271f successfully announced in 95,8108 ms
02/25/2023 09:17:15 +01:00 Server 3a4b71b1-310b-4684-8ca3-7ac90f00271f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/25/2023 09:17:15 +01:00 Server 3a4b71b1-310b-4684-8ca3-7ac90f00271f all the dispatchers started
02/25/2023 09:17:15 +01:00 Now listening on: "http://localhost:41144"
02/25/2023 09:17:15 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
02/25/2023 09:17:15 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/25/2023 09:17:15 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/25/2023 09:17:15 +01:00 Application started. Press Ctrl+C to shut down.
02/25/2023 09:17:15 +01:00 Hosting environment: "Development"
02/25/2023 09:17:15 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
02/25/2023 09:17:15 +01:00 Server 5b04f8e2-e3d2-45b1-a1eb-2dbb9fcdc289 successfully announced in 31,701 ms
02/25/2023 09:17:15 +01:00 Server 5b04f8e2-e3d2-45b1-a1eb-2dbb9fcdc289 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/25/2023 09:17:16 +01:00 Server 5b04f8e2-e3d2-45b1-a1eb-2dbb9fcdc289 all the dispatchers started
02/25/2023 09:17:16 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/index.html - -
02/25/2023 09:17:16 +01:00 Failed to determine the https port for redirect.
02/25/2023 09:17:16 +01:00 HTTP "GET" "/index.html" responded 200 in 40.1079 ms
02/25/2023 09:17:16 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/index.html - - - 200 - text/html;charset=utf-8 45.5592ms
02/25/2023 09:17:16 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui-bundle.js - -
02/25/2023 09:17:16 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui.css - -
02/25/2023 09:17:16 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger-ui-standalone-preset.js - -
02/25/2023 09:17:16 +01:00 Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
02/25/2023 09:17:16 +01:00 Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
02/25/2023 09:17:16 +01:00 HTTP "GET" "/swagger-ui.css" responded 200 in 225.4432 ms
02/25/2023 09:17:16 +01:00 HTTP "GET" "/swagger-ui-standalone-preset.js" responded 200 in 226.1189 ms
02/25/2023 09:17:16 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 252.3025ms
02/25/2023 09:17:16 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui.css - - - 200 144929 text/css 227.4505ms
02/25/2023 09:17:16 +01:00 Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
02/25/2023 09:17:16 +01:00 HTTP "GET" "/swagger-ui-bundle.js" responded 200 in 253.5199 ms
02/25/2023 09:17:16 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger-ui-bundle.js - - - 200 1061536 text/javascript 254.1426ms
02/25/2023 09:17:16 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - -
02/25/2023 09:17:17 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 139.5508 ms
02/25/2023 09:17:17 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 140.5715ms
02/25/2023 09:20:31 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - -
02/25/2023 09:20:31 +01:00 CORS policy execution successful.
02/25/2023 09:20:31 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - - - 204 - - 3.2688ms
02/25/2023 09:20:31 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetUser - -
02/25/2023 09:20:31 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAllPublished - -
02/25/2023 09:20:31 +01:00 CORS policy execution successful.
02/25/2023 09:20:31 +01:00 CORS policy execution successful.
02/25/2023 09:20:31 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAllPublished - - - 204 - - 2.7258ms
02/25/2023 09:20:31 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAllPublished - -
02/25/2023 09:20:31 +01:00 CORS policy execution successful.
02/25/2023 09:20:31 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
02/25/2023 09:20:31 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/25/2023 09:20:31 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/25/2023 09:20:31 +01:00 Route matched with "{action = \"GetSurveysPublished\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveysPublished(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/25/2023 09:20:31 +01:00 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
02/25/2023 09:20:32 +01:00 Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE ([s].[DeletedOn] IS NULL) AND ([s].[StartDate] IS NOT NULL)
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/25/2023 09:20:32 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/25/2023 09:20:32 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)" in 233.354ms
02/25/2023 09:20:32 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
02/25/2023 09:20:32 +01:00 HTTP "GET" "/api/survey/GetAllPublished" responded 200 in 444.8612 ms
02/25/2023 09:20:32 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAllPublished - - - 200 56 application/json;+charset=utf-8 446.9757ms
02/25/2023 09:20:32 +01:00 Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
02/25/2023 09:20:32 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
02/25/2023 09:20:32 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 279.98ms
02/25/2023 09:20:32 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/25/2023 09:20:32 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 514.1873 ms
02/25/2023 09:20:32 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetUser - - - 200 153 application/json;+charset=utf-8 517.1811ms
02/25/2023 09:20:42 +01:00 Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/25/2023 09:20:42 +01:00 Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/25/2023 09:20:42 +01:00 Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/25/2023 09:20:42 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/25/2023 09:20:42 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/25/2023 09:20:42 +01:00 No migrations were applied. The database is already up to date.
02/25/2023 09:20:42 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/25/2023 09:20:42 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/25/2023 09:20:42 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/25/2023 09:20:42 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/25/2023 09:20:42 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/25/2023 09:20:42 +01:00 No migrations were applied. The database is already up to date.
02/25/2023 09:20:42 +01:00 Start installing Hangfire SQL objects...
02/25/2023 09:20:42 +01:00 Hangfire SQL objects installed.
02/25/2023 09:20:42 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
02/25/2023 09:20:42 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
02/25/2023 09:20:42 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/25/2023 09:20:42 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/25/2023 09:20:42 +01:00 Server b18298ee-a6bd-46d1-912f-b8279ed7d41e successfully announced in 66,3878 ms
02/25/2023 09:20:42 +01:00 Server b18298ee-a6bd-46d1-912f-b8279ed7d41e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/25/2023 09:20:42 +01:00 Server b18298ee-a6bd-46d1-912f-b8279ed7d41e all the dispatchers started
02/25/2023 09:20:42 +01:00 2 servers were removed due to timeout
02/25/2023 09:20:43 +01:00 Now listening on: "http://localhost:41144"
02/25/2023 09:20:43 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
02/25/2023 09:20:43 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/25/2023 09:20:43 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/25/2023 09:20:43 +01:00 Application started. Press Ctrl+C to shut down.
02/25/2023 09:20:43 +01:00 Hosting environment: "Development"
02/25/2023 09:20:43 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
02/25/2023 09:20:43 +01:00 Server 20a2dda4-7efb-48d3-9b11-20d8f7252752 successfully announced in 7,441 ms
02/25/2023 09:20:43 +01:00 Server 20a2dda4-7efb-48d3-9b11-20d8f7252752 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/25/2023 09:20:43 +01:00 Server 20a2dda4-7efb-48d3-9b11-20d8f7252752 all the dispatchers started
02/25/2023 09:20:44 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/index.html - -
02/25/2023 09:20:44 +01:00 Failed to determine the https port for redirect.
02/25/2023 09:20:44 +01:00 HTTP "GET" "/index.html" responded 200 in 37.0989 ms
02/25/2023 09:20:44 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/index.html - - - 200 - text/html;charset=utf-8 42.0672ms
02/25/2023 09:20:44 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - -
02/25/2023 09:20:44 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 153.9976 ms
02/25/2023 09:20:44 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 175.2050ms
02/25/2023 09:20:49 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - -
02/25/2023 09:20:49 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAllPublished - -
02/25/2023 09:20:49 +01:00 CORS policy execution successful.
02/25/2023 09:20:49 +01:00 CORS policy execution successful.
02/25/2023 09:20:49 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAllPublished - - - 204 - - 2.5607ms
02/25/2023 09:20:49 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - - - 204 - - 4.2989ms
02/25/2023 09:20:49 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetUser - -
02/25/2023 09:20:49 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAllPublished - -
02/25/2023 09:20:49 +01:00 CORS policy execution successful.
02/25/2023 09:20:49 +01:00 CORS policy execution successful.
02/25/2023 09:20:50 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/25/2023 09:20:50 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
02/25/2023 09:20:50 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/25/2023 09:20:50 +01:00 Route matched with "{action = \"GetSurveysPublished\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveysPublished(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/25/2023 09:20:50 +01:00 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
02/25/2023 09:20:50 +01:00 Executed DbCommand ("15"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
02/25/2023 09:20:50 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE ([s].[DeletedOn] IS NULL) AND ([s].[StartDate] IS NOT NULL)
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/25/2023 09:20:50 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
02/25/2023 09:20:50 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/25/2023 09:20:50 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 231.8252ms
02/25/2023 09:20:50 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)" in 231.6423ms
02/25/2023 09:20:50 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/25/2023 09:20:50 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
02/25/2023 09:20:50 +01:00 HTTP "GET" "/api/survey/GetAllPublished" responded 200 in 354.4662 ms
02/25/2023 09:20:50 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 354.4743 ms
02/25/2023 09:20:50 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetUser - - - 200 153 application/json;+charset=utf-8 356.8220ms
02/25/2023 09:20:50 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAllPublished - - - 200 56 application/json;+charset=utf-8 356.6983ms
02/25/2023 09:20:52 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/25/2023 09:20:52 +01:00 CORS policy execution successful.
02/25/2023 09:20:52 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 0.3777ms
02/25/2023 09:20:52 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/25/2023 09:20:52 +01:00 CORS policy execution successful.
02/25/2023 09:20:52 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/25/2023 09:20:52 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/25/2023 09:20:52 +01:00 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
02/25/2023 09:20:52 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/25/2023 09:20:52 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/25/2023 09:20:52 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 63.2219ms
02/25/2023 09:20:52 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/25/2023 09:20:52 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 70.0721 ms
02/25/2023 09:20:52 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 57 application/json;+charset=utf-8 70.2481ms
02/25/2023 09:20:52 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - -
02/25/2023 09:20:52 +01:00 CORS policy execution successful.
02/25/2023 09:20:52 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - - - 204 - - 0.7200ms
02/25/2023 09:20:52 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - -
02/25/2023 09:20:52 +01:00 CORS policy execution successful.
02/25/2023 09:20:52 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
02/25/2023 09:20:52 +01:00 Route matched with "{action = \"GetUsers\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.UserDto]]] GetUsers(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.AspNetUsers])" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/25/2023 09:20:52 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]"
02/25/2023 09:20:52 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.UserDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/25/2023 09:20:52 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)" in 80.7997ms
02/25/2023 09:20:52 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
02/25/2023 09:20:52 +01:00 HTTP "GET" "/api/User/GetAll" responded 200 in 91.7598 ms
02/25/2023 09:20:52 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - - - 200 377 application/json;+charset=utf-8 92.1568ms
02/25/2023 09:20:55 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/25/2023 09:20:55 +01:00 CORS policy execution successful.
02/25/2023 09:20:55 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 1.1374ms
02/25/2023 09:20:55 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/25/2023 09:20:55 +01:00 CORS policy execution successful.
02/25/2023 09:20:55 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/25/2023 09:20:55 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/25/2023 09:20:55 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/25/2023 09:20:55 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/25/2023 09:20:55 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 44.8819ms
02/25/2023 09:20:55 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/25/2023 09:20:55 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 53.5535 ms
02/25/2023 09:20:55 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 147 application/json;+charset=utf-8 53.8885ms
02/25/2023 09:21:06 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Add - -
02/25/2023 09:21:06 +01:00 CORS policy execution successful.
02/25/2023 09:21:06 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Add - - - 204 - - 1.6314ms
02/25/2023 09:21:06 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/respondent/Add application/json 43
02/25/2023 09:21:06 +01:00 CORS policy execution successful.
02/25/2023 09:21:06 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
02/25/2023 09:21:07 +01:00 Route matched with "{action = \"AddRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRespondent(InternalSurvey.Api.Dtos.RespondentDto)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/25/2023 09:21:07 +01:00 Executed DbCommand ("13"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Respondents] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
02/25/2023 09:21:07 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
02/25/2023 09:21:07 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)" in 116.7635ms
02/25/2023 09:21:07 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
02/25/2023 09:21:07 +01:00 HTTP "POST" "/api/respondent/Add" responded 200 in 128.0921 ms
02/25/2023 09:21:07 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/respondent/Add application/json 43 - 200 34 application/json;+charset=utf-8 128.4361ms
02/25/2023 09:21:07 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/25/2023 09:21:07 +01:00 CORS policy execution successful.
02/25/2023 09:21:07 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.1597ms
02/25/2023 09:21:07 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/25/2023 09:21:07 +01:00 CORS policy execution successful.
02/25/2023 09:21:07 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/25/2023 09:21:07 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/25/2023 09:21:07 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/25/2023 09:21:07 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/25/2023 09:21:07 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 105.9185ms
02/25/2023 09:21:07 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/25/2023 09:21:07 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 106.6179 ms
02/25/2023 09:21:07 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 191 application/json;+charset=utf-8 106.8613ms
02/25/2023 09:21:36 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - -
02/25/2023 09:21:36 +01:00 CORS policy execution successful.
02/25/2023 09:21:36 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - - - 204 - - 1.7369ms
02/25/2023 09:21:36 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - -
02/25/2023 09:21:36 +01:00 CORS policy execution successful.
02/25/2023 09:21:36 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
02/25/2023 09:21:36 +01:00 Route matched with "{action = \"GetUsers\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.UserDto]]] GetUsers(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.AspNetUsers])" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/25/2023 09:21:36 +01:00 Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]"
02/25/2023 09:21:36 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.UserDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/25/2023 09:21:36 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)" in 18.9935ms
02/25/2023 09:21:36 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
02/25/2023 09:21:36 +01:00 HTTP "GET" "/api/User/GetAll" responded 200 in 24.2780 ms
02/25/2023 09:21:36 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetAll?$skip=0&$top=10 - - - 200 377 application/json;+charset=utf-8 24.6351ms
02/25/2023 09:21:37 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/25/2023 09:21:37 +01:00 CORS policy execution successful.
02/25/2023 09:21:37 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 1.0782ms
02/25/2023 09:21:37 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/25/2023 09:21:37 +01:00 CORS policy execution successful.
02/25/2023 09:21:37 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/25/2023 09:21:37 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/25/2023 09:21:37 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/25/2023 09:21:37 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/25/2023 09:21:37 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 20.7593ms
02/25/2023 09:21:37 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/25/2023 09:21:37 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 22.9557 ms
02/25/2023 09:21:37 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 57 application/json;+charset=utf-8 23.4012ms
02/25/2023 09:25:42 +01:00 2 servers were removed due to timeout
02/25/2023 09:35:23 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - -
02/25/2023 09:35:23 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/25/2023 09:35:23 +01:00 CORS policy execution successful.
02/25/2023 09:35:23 +01:00 CORS policy execution successful.
02/25/2023 09:35:23 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 13.6092ms
02/25/2023 09:35:23 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - - - 204 - - 13.6092ms
02/25/2023 09:35:23 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/25/2023 09:35:23 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetUser - -
02/25/2023 09:35:23 +01:00 CORS policy execution successful.
02/25/2023 09:35:23 +01:00 CORS policy execution successful.
02/25/2023 09:35:23 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/25/2023 09:35:23 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/25/2023 09:35:23 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/25/2023 09:35:23 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/25/2023 09:35:23 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/25/2023 09:35:23 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/25/2023 09:35:23 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 362.1837ms
02/25/2023 09:35:23 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/25/2023 09:35:23 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 369.8735 ms
02/25/2023 09:35:23 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 57 application/json;+charset=utf-8 393.3885ms
02/25/2023 09:35:23 +01:00 Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
02/25/2023 09:35:23 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
02/25/2023 09:35:23 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 374.4158ms
02/25/2023 09:35:23 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/25/2023 09:35:23 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 405.2530 ms
02/25/2023 09:35:23 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetUser - - - 200 153 application/json;+charset=utf-8 405.5425ms
02/27/2023 10:26:08 +01:00 Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 10:26:09 +01:00 Executed DbCommand ("68"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 10:26:09 +01:00 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 10:26:09 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 10:26:09 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/27/2023 10:26:09 +01:00 No migrations were applied. The database is already up to date.
02/27/2023 10:26:09 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 10:26:09 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 10:26:09 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 10:26:09 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 10:26:09 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/27/2023 10:26:09 +01:00 No migrations were applied. The database is already up to date.
02/27/2023 10:26:09 +01:00 Start installing Hangfire SQL objects...
02/27/2023 10:26:09 +01:00 Hangfire SQL objects installed.
02/27/2023 10:26:09 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
02/27/2023 10:26:09 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
02/27/2023 10:26:09 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/27/2023 10:26:09 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/27/2023 10:26:09 +01:00 Server d109f0ce-bb1a-42e2-81a3-cb805ca88ef0 successfully announced in 77,502 ms
02/27/2023 10:26:09 +01:00 Server d109f0ce-bb1a-42e2-81a3-cb805ca88ef0 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/27/2023 10:26:09 +01:00 Server d109f0ce-bb1a-42e2-81a3-cb805ca88ef0 all the dispatchers started
02/27/2023 10:26:10 +01:00 Now listening on: "http://localhost:41144"
02/27/2023 10:26:10 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
02/27/2023 10:26:10 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/27/2023 10:26:10 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/27/2023 10:26:10 +01:00 Server 51926c39-0205-4091-840f-49813ed0264d successfully announced in 21,9696 ms
02/27/2023 10:26:10 +01:00 Server 51926c39-0205-4091-840f-49813ed0264d is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/27/2023 10:26:10 +01:00 Application started. Press Ctrl+C to shut down.
02/27/2023 10:26:10 +01:00 Hosting environment: "Development"
02/27/2023 10:26:10 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
02/27/2023 10:26:10 +01:00 Server 51926c39-0205-4091-840f-49813ed0264d all the dispatchers started
02/27/2023 10:26:11 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/index.html - -
02/27/2023 10:26:11 +01:00 Failed to determine the https port for redirect.
02/27/2023 10:26:11 +01:00 HTTP "GET" "/index.html" responded 200 in 60.1207 ms
02/27/2023 10:26:11 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/index.html - - - 200 - text/html;charset=utf-8 67.8525ms
02/27/2023 10:26:11 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - -
02/27/2023 10:26:11 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 147.0373 ms
02/27/2023 10:26:11 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 148.1132ms
02/27/2023 10:28:14 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/Login - -
02/27/2023 10:28:14 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/Login - -
02/27/2023 10:28:14 +01:00 CORS policy execution successful.
02/27/2023 10:28:14 +01:00 CORS policy execution successful.
02/27/2023 10:28:14 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/Login - - - 204 - - 12.3412ms
02/27/2023 10:28:14 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/Login - - - 204 - - 12.0089ms
02/27/2023 10:28:14 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/User/Login application/json 61
02/27/2023 10:28:14 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/User/Login application/json 61
02/27/2023 10:28:14 +01:00 CORS policy execution successful.
02/27/2023 10:28:14 +01:00 CORS policy execution successful.
02/27/2023 10:28:14 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/27/2023 10:28:14 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/27/2023 10:28:14 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/27/2023 10:28:14 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/27/2023 10:28:14 +01:00 info
02/27/2023 10:28:14 +01:00 info
02/27/2023 10:28:14 +01:00 Executed DbCommand ("41"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
02/27/2023 10:28:14 +01:00 Executed DbCommand ("11"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
02/27/2023 10:28:14 +01:00 Executed DbCommand ("15"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
02/27/2023 10:28:14 +01:00 Executed DbCommand ("15"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
02/27/2023 10:28:14 +01:00 AuthenticationScheme: "Identity.Application" signed in.
02/27/2023 10:28:14 +01:00 AuthenticationScheme: "Identity.Application" signed in.
02/27/2023 10:28:14 +01:00 Executed DbCommand ("11"ms) [Parameters=["@__model_Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__model_Email_0"
02/27/2023 10:28:14 +01:00 Executed DbCommand ("11"ms) [Parameters=["@__model_Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__model_Email_0"
02/27/2023 10:28:15 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Controllers.UserController+LoginResponse"'.
02/27/2023 10:28:15 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Controllers.UserController+LoginResponse"'.
02/27/2023 10:28:15 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 403.8625ms
02/27/2023 10:28:15 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 403.862ms
02/27/2023 10:28:15 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/27/2023 10:28:15 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
02/27/2023 10:28:15 +01:00 HTTP "POST" "/api/User/Login" responded 200 in 553.0541 ms
02/27/2023 10:28:15 +01:00 HTTP "POST" "/api/User/Login" responded 200 in 552.9178 ms
02/27/2023 10:28:15 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/User/Login application/json 61 - 200 683 application/json;+charset=utf-8 558.7065ms
02/27/2023 10:28:15 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/User/Login application/json 61 - 200 683 application/json;+charset=utf-8 558.6519ms
02/27/2023 10:28:15 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAllPublished - -
02/27/2023 10:28:15 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - -
02/27/2023 10:28:15 +01:00 CORS policy execution successful.
02/27/2023 10:28:15 +01:00 CORS policy execution successful.
02/27/2023 10:28:15 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/User/GetUser - - - 204 - - 0.2712ms
02/27/2023 10:28:15 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAllPublished - - - 204 - - 0.2714ms
02/27/2023 10:28:15 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/User/GetUser - -
02/27/2023 10:28:15 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAllPublished - -
02/27/2023 10:28:15 +01:00 CORS policy execution successful.
02/27/2023 10:28:15 +01:00 CORS policy execution successful.
02/27/2023 10:28:15 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
02/27/2023 10:28:15 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/27/2023 10:28:15 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
02/27/2023 10:28:15 +01:00 Route matched with "{action = \"GetSurveysPublished\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveysPublished(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/27/2023 10:28:15 +01:00 Executed DbCommand ("94"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
02/27/2023 10:28:15 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
02/27/2023 10:28:15 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 233.9525ms
02/27/2023 10:28:15 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
02/27/2023 10:28:15 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 270.8405 ms
02/27/2023 10:28:15 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/User/GetUser - - - 200 166 application/json;+charset=utf-8 271.4337ms
02/27/2023 10:28:15 +01:00 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
02/27/2023 10:28:15 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE ([s].[DeletedOn] IS NULL) AND ([s].[StartDate] IS NOT NULL)
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/27/2023 10:28:15 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/27/2023 10:28:15 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)" in 377.5729ms
02/27/2023 10:28:15 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
02/27/2023 10:28:15 +01:00 HTTP "GET" "/api/survey/GetAllPublished" responded 200 in 411.8488 ms
02/27/2023 10:28:15 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAllPublished - - - 200 56 application/json;+charset=utf-8 412.1881ms
02/27/2023 10:28:19 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/27/2023 10:28:19 +01:00 CORS policy execution successful.
02/27/2023 10:28:19 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 1.0501ms
02/27/2023 10:28:19 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/27/2023 10:28:19 +01:00 CORS policy execution successful.
02/27/2023 10:28:19 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/27/2023 10:28:19 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/27/2023 10:28:19 +01:00 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/27/2023 10:28:19 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/27/2023 10:28:19 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 74.3926ms
02/27/2023 10:28:19 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/27/2023 10:28:19 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 84.7544 ms
02/27/2023 10:28:19 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 191 application/json;+charset=utf-8 85.0415ms
02/27/2023 10:28:20 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/27/2023 10:28:20 +01:00 CORS policy execution successful.
02/27/2023 10:28:20 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 2.8492ms
02/27/2023 10:28:20 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/27/2023 10:28:20 +01:00 CORS policy execution successful.
02/27/2023 10:28:20 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/27/2023 10:28:20 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/27/2023 10:28:20 +01:00 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
02/27/2023 10:28:20 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/27/2023 10:28:20 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/27/2023 10:28:20 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 29.0894ms
02/27/2023 10:28:20 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/27/2023 10:28:20 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 36.7741 ms
02/27/2023 10:28:20 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 57 application/json;+charset=utf-8 37.0592ms
02/27/2023 10:31:09 +01:00 2 servers were removed due to timeout
02/27/2023 10:33:12 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/AddSurveyTotal - -
02/27/2023 10:33:12 +01:00 CORS policy execution successful.
02/27/2023 10:33:12 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/AddSurveyTotal - - - 204 - - 1.7185ms
02/27/2023 10:33:12 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/survey/AddSurveyTotal application/json 1854
02/27/2023 10:33:12 +01:00 CORS policy execution successful.
02/27/2023 10:33:12 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.AddSurveyTotal (InternalSurvey.Api)"'
02/27/2023 10:33:12 +01:00 Route matched with "{action = \"AddSurveyTotal\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSurveyTotal(InternalSurvey.Api.Dtos.SurveyDto)" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/27/2023 10:33:12 +01:00 Executed DbCommand ("33"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Surveys] ([AspNetUsersId], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Description], [EndDate], [ModifiedBy], [ModifiedOn], [StartDate], [SwitchOffRespondents], [Title], [UserId], [VotingRespondents])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("13"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Description], [HasOthers], [IsRequired], [ModifiedBy], [ModifiedOn], [Order], [QuestionType], [SurveyId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("5"ms) [Parameters=["@p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SurveyQuestionOptions] ([DeletedOn], [Option], [QuestionId])
OUTPUT INSERTED.[Id]
VALUES (@p13, @p14, @p15);"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("13"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Description], [HasOthers], [IsRequired], [ModifiedBy], [ModifiedOn], [Order], [QuestionType], [SurveyId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("14"ms) [Parameters=["@p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (Size = 4000), @p33='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SurveyQuestionOptions] USING (
VALUES (@p13, @p14, @p15, 0),
(@p16, @p17, @p18, 1),
(@p19, @p20, @p21, 2),
(@p22, @p23, @p24, 3),
(@p25, @p26, @p27, 4),
(@p28, @p29, @p30, 5),
(@p31, @p32, @p33, 6)) AS i ([DeletedOn], [Option], [QuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeletedOn], [Option], [QuestionId])
VALUES (i.[DeletedOn], i.[Option], i.[QuestionId])
OUTPUT INSERTED.[Id], i._Position;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("4"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("6"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SurveyQuestionOptions] ([DeletedOn], [Option], [QuestionId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Description], [HasOthers], [IsRequired], [ModifiedBy], [ModifiedOn], [Order], [QuestionType], [SurveyId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("3"ms) [Parameters=["@p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (DbType = Int32), @p22='?' (DbType = DateTime2), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (DbType = DateTime2), @p29='?' (Size = 4000), @p30='?' (DbType = Int32), @p31='?' (DbType = DateTime2), @p32='?' (Size = 4000), @p33='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SurveyQuestionOptions] USING (
VALUES (@p13, @p14, @p15, 0),
(@p16, @p17, @p18, 1),
(@p19, @p20, @p21, 2),
(@p22, @p23, @p24, 3),
(@p25, @p26, @p27, 4),
(@p28, @p29, @p30, 5),
(@p31, @p32, @p33, 6)) AS i ([DeletedOn], [Option], [QuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeletedOn], [Option], [QuestionId])
VALUES (i.[DeletedOn], i.[Option], i.[QuestionId])
OUTPUT INSERTED.[Id], i._Position;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("7"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("2"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("1"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("8"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SurveyQuestionOptions] ([DeletedOn], [Option], [QuestionId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("8"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Description], [HasOthers], [IsRequired], [ModifiedBy], [ModifiedOn], [Order], [QuestionType], [SurveyId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("3"ms) [Parameters=["@p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SurveyQuestionOptions] ([DeletedOn], [Option], [QuestionId])
OUTPUT INSERTED.[Id]
VALUES (@p13, @p14, @p15);"
02/27/2023 10:33:12 +01:00 Executed DbCommand ("17"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:13 +01:00 Executed DbCommand ("10"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Description], [HasOthers], [IsRequired], [ModifiedBy], [ModifiedOn], [Order], [QuestionType], [SurveyId], [Title])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);"
02/27/2023 10:33:13 +01:00 Executed DbCommand ("12"ms) [Parameters=["@p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [SurveyQuestionOptions] USING (
VALUES (@p13, @p14, @p15, 0),
(@p16, @p17, @p18, 1),
(@p19, @p20, @p21, 2)) AS i ([DeletedOn], [Option], [QuestionId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([DeletedOn], [Option], [QuestionId])
VALUES (i.[DeletedOn], i.[Option], i.[QuestionId])
OUTPUT INSERTED.[Id], i._Position;"
02/27/2023 10:33:13 +01:00 Executed DbCommand ("3"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:13 +01:00 Executed DbCommand ("6"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:13 +01:00 Executed DbCommand ("7"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SurveyQuestionOptions] SET [DeletedOn] = @p0, [Option] = @p1, [QuestionId] = @p2
OUTPUT 1
WHERE [Id] = @p3;"
02/27/2023 10:33:13 +01:00 Executed DbCommand ("4"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SurveyQuestionOptions] ([DeletedOn], [Option], [QuestionId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);"
02/27/2023 10:33:13 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType3`2[[InternalSurvey.Api.Entities.Survey, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
02/27/2023 10:33:13 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.AddSurveyTotal (InternalSurvey.Api)" in 665.7813ms
02/27/2023 10:33:13 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.AddSurveyTotal (InternalSurvey.Api)"'
02/27/2023 10:33:13 +01:00 HTTP "POST" "/api/survey/AddSurveyTotal" responded 200 in 672.5456 ms
02/27/2023 10:33:13 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/survey/AddSurveyTotal application/json 1854 - 200 3802 application/json;+charset=utf-8 672.9045ms
02/27/2023 10:33:13 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/27/2023 10:33:13 +01:00 CORS policy execution successful.
02/27/2023 10:33:13 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 0.2508ms
02/27/2023 10:33:13 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/27/2023 10:33:13 +01:00 CORS policy execution successful.
02/27/2023 10:33:13 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/27/2023 10:33:13 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/27/2023 10:33:13 +01:00 Executed DbCommand ("72"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/27/2023 10:33:13 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/27/2023 10:33:13 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 81.4185ms
02/27/2023 10:33:13 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/27/2023 10:33:13 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 82.4123 ms
02/27/2023 10:33:13 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 1248 application/json;+charset=utf-8 82.7335ms
02/27/2023 10:33:14 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/27/2023 10:33:14 +01:00 CORS policy execution successful.
02/27/2023 10:33:14 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.6453ms
02/27/2023 10:33:14 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/27/2023 10:33:14 +01:00 CORS policy execution successful.
02/27/2023 10:33:14 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/27/2023 10:33:14 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/27/2023 10:33:14 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/27/2023 10:33:14 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/27/2023 10:33:14 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 9.5444ms
02/27/2023 10:33:14 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/27/2023 10:33:14 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 14.8827 ms
02/27/2023 10:33:14 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 191 application/json;+charset=utf-8 15.5184ms
02/27/2023 10:33:51 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Add - -
02/27/2023 10:33:51 +01:00 CORS policy execution successful.
02/27/2023 10:33:51 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/Add - - - 204 - - 0.8962ms
02/27/2023 10:33:51 +01:00 Request starting HTTP/1.1 POST http://localhost:41144/api/respondent/Add application/json 40
02/27/2023 10:33:51 +01:00 CORS policy execution successful.
02/27/2023 10:33:51 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
02/27/2023 10:33:51 +01:00 Route matched with "{action = \"AddRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRespondent(InternalSurvey.Api.Dtos.RespondentDto)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/27/2023 10:33:52 +01:00 Executed DbCommand ("34"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Respondents] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
02/27/2023 10:33:52 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
02/27/2023 10:33:52 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)" in 50.6151ms
02/27/2023 10:33:52 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
02/27/2023 10:33:52 +01:00 HTTP "POST" "/api/respondent/Add" responded 200 in 58.3135 ms
02/27/2023 10:33:52 +01:00 Request finished HTTP/1.1 POST http://localhost:41144/api/respondent/Add application/json 40 - 200 34 application/json;+charset=utf-8 58.8147ms
02/27/2023 10:33:52 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/27/2023 10:33:52 +01:00 CORS policy execution successful.
02/27/2023 10:33:52 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.2528ms
02/27/2023 10:33:52 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/27/2023 10:33:52 +01:00 CORS policy execution successful.
02/27/2023 10:33:52 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/27/2023 10:33:52 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/27/2023 10:33:52 +01:00 Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/27/2023 10:33:52 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/27/2023 10:33:52 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 168.2748ms
02/27/2023 10:33:52 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/27/2023 10:33:52 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 168.9658 ms
02/27/2023 10:33:52 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 232 application/json;+charset=utf-8 169.2373ms
02/27/2023 10:33:55 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/27/2023 10:33:55 +01:00 CORS policy execution successful.
02/27/2023 10:33:55 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 0.2575ms
02/27/2023 10:33:55 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/27/2023 10:33:55 +01:00 CORS policy execution successful.
02/27/2023 10:33:55 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/27/2023 10:33:55 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/27/2023 10:33:55 +01:00 Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/27/2023 10:33:55 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/27/2023 10:33:55 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 38.0982ms
02/27/2023 10:33:55 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/27/2023 10:33:55 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 38.8853 ms
02/27/2023 10:33:55 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 1248 application/json;+charset=utf-8 39.2711ms
02/27/2023 10:34:05 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/27/2023 10:34:05 +01:00 CORS policy execution successful.
02/27/2023 10:34:05 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.3258ms
02/27/2023 10:34:05 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/27/2023 10:34:05 +01:00 CORS policy execution successful.
02/27/2023 10:34:05 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/27/2023 10:34:05 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/27/2023 10:34:05 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/27/2023 10:34:05 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/27/2023 10:34:05 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 64.3163ms
02/27/2023 10:34:05 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/27/2023 10:34:05 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 65.2530 ms
02/27/2023 10:34:05 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 232 application/json;+charset=utf-8 65.5336ms
02/27/2023 10:34:06 +01:00 Request starting HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/27/2023 10:34:06 +01:00 CORS policy execution successful.
02/27/2023 10:34:06 +01:00 Request finished HTTP/1.1 OPTIONS http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 0.7283ms
02/27/2023 10:34:06 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - -
02/27/2023 10:34:06 +01:00 CORS policy execution successful.
02/27/2023 10:34:06 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/27/2023 10:34:06 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
02/27/2023 10:34:06 +01:00 Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
02/27/2023 10:34:06 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/27/2023 10:34:06 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 17.2159ms
02/27/2023 10:34:06 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
02/27/2023 10:34:06 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 20.9504 ms
02/27/2023 10:34:06 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/survey/GetAll?$skip=0&$top=10 - - - 200 1248 application/json;+charset=utf-8 21.4347ms
02/27/2023 10:34:07 +01:00 Request starting HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - -
02/27/2023 10:34:07 +01:00 CORS policy execution successful.
02/27/2023 10:34:07 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/27/2023 10:34:07 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
02/27/2023 10:34:07 +01:00 Executed DbCommand ("41"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
02/27/2023 10:34:07 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
02/27/2023 10:34:07 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 55.7604ms
02/27/2023 10:34:07 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
02/27/2023 10:34:07 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 58.4918 ms
02/27/2023 10:34:07 +01:00 Request finished HTTP/1.1 GET http://localhost:41144/api/respondent/GetAll?$skip=0&$top=10 - - - 200 232 application/json;+charset=utf-8 59.6240ms
02/27/2023 18:27:02 +01:00 Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/27/2023 18:27:03 +01:00 No migrations were applied. The database is already up to date.
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/27/2023 18:27:03 +01:00 Applying migration '"20200916091934_InitialCreate"'.
02/27/2023 18:27:03 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916091934_InitialCreate', N'7.0.3');"
02/27/2023 18:27:03 +01:00 Applying migration '"20200916135823_Entities"'.
02/27/2023 18:27:03 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Questions] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    [Options] nvarchar(max) NULL,
    [QuestionType] int NOT NULL,
    CONSTRAINT [PK_Questions] PRIMARY KEY ([Id])
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Respondents] (
    [Id] int NOT NULL IDENTITY,
    [Email] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Respondents] PRIMARY KEY ([Id])
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Surveys] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [EndDate] datetime2 NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Surveys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Surveys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [QuestionOrders] (
    [Id] int NOT NULL IDENTITY,
    [QuestionId] int NOT NULL,
    [SurveyId] int NOT NULL,
    [Order] int NOT NULL,
    CONSTRAINT [PK_QuestionOrders] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_QuestionOrders_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_QuestionOrders_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResponses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [HasVoted] bit NOT NULL,
    CONSTRAINT [PK_SurveyResponses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResponses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_SurveyResponses_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Responses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyResponseId] int NOT NULL,
    [QuestionId] int NOT NULL,
    [Answer] nvarchar(max) NULL,
    CONSTRAINT [PK_Responses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Responses_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId] FOREIGN KEY ([SurveyResponseId]) REFERENCES [SurveyResponses] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [Email])
VALUES (1, N'rei.xhiani@atis.al'),
(2, N'nexhip.alimadhi@atis.al'),
(3, N'lidia.dishnica@atis.al');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FirstName], [LastName], [ModifiedBy], [ModifiedOn], [Password])
VALUES (1, 1, '2020-09-16T15:58:23.0343274+02:00', NULL, NULL, N'atisadmin@atis.al', N'Atis', N'Admin', NULL, NULL, N'1234');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("50"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_QuestionId] ON [QuestionOrders] ([QuestionId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_SurveyId] ON [QuestionOrders] ([SurveyId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_QuestionId] ON [Responses] ([QuestionId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResponseId] ON [Responses] ([SurveyResponseId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_RespondentId] ON [SurveyResponses] ([RespondentId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_SurveyId] ON [SurveyResponses] ([SurveyId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_UserId] ON [Surveys] ([UserId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916135823_Entities', N'7.0.3');"
02/27/2023 18:27:03 +01:00 Applying migration '"20200917094757_addEntityModification"'.
02/27/2023 18:27:03 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_Questions_QuestionId];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResponses];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_QuestionId] ON [Responses];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResponseId] ON [Responses];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'Answer');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Responses] DROP COLUMN [Answer];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'QuestionId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Responses] DROP COLUMN [QuestionId];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResponseId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResponseId];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'Options');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Questions] DROP COLUMN [Options];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [Other] nvarchar(max) NULL;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [RespondentId] int NOT NULL DEFAULT 0;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyQuestionOptionsId] int NOT NULL DEFAULT 0;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyQuestionOptions] (
    [Id] int NOT NULL IDENTITY,
    [Option] nvarchar(max) NULL,
    [QuestionOrderId] int NOT NULL,
    CONSTRAINT [PK_SurveyQuestionOptions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId] FOREIGN KEY ([QuestionOrderId]) REFERENCES [QuestionOrders] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:47:56.9588654+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_RespondentId] ON [Responses] ([RespondentId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyQuestionOptionsId] ON [Responses] ([SurveyQuestionOptionsId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions] ([QuestionOrderId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyQuestionOptions_SurveyQuestionOptionsId] FOREIGN KEY ([SurveyQuestionOptionsId]) REFERENCES [SurveyQuestionOptions] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917094757_addEntityModification', N'7.0.3');"
02/27/2023 18:27:03 +01:00 Applying migration '"20200917095045_Entities2"'.
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:50:44.8230684+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917095045_Entities2', N'7.0.3');"
02/27/2023 18:27:03 +01:00 Applying migration '"20200917135857_AddedBaseEntityInRespondent"'.
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedBy] int NOT NULL DEFAULT 0;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedOn] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedBy] int NULL;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedBy] int NULL;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedOn] datetime2 NULL;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T15:58:57.0252736+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917135857_AddedBaseEntityInRespondent', N'7.0.3');"
02/27/2023 18:27:03 +01:00 Applying migration '"20200918121505_EntitiesNewProperty"'.
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [StartDate] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NOT NULL;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [QuestionOrders] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-18T14:15:05.2631694+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200918121505_EntitiesNewProperty', N'7.0.3');"
02/27/2023 18:27:03 +01:00 Applying migration '"20200919211010_AddAspNetUsersToDb"'.
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] DROP CONSTRAINT [FK_Surveys_Users_UserId];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [Users];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Surveys_UserId] ON [Surveys];"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 2;
SELECT @@ROWCOUNT;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 3;
SELECT @@ROWCOUNT;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [AspNetUsersId] nvarchar(450) NULL;"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserLogins] (
    [Id] int NOT NULL IDENTITY,
    [LoginProvider] nvarchar(128) NULL,
    [ProviderKey] nvarchar(128) NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserTokens] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [LoginProvider] nvarchar(128) NULL,
    [Name] nvarchar(128) NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_AspNetUsersId] ON [Surveys] ([AspNetUsersId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserTokens_UserId] ON [AspNetUserTokens] ([UserId]);"
02/27/2023 18:27:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD CONSTRAINT [FK_Surveys_AspNetUsers_AspNetUsersId] FOREIGN KEY ([AspNetUsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("68"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200919211010_AddAspNetUsersToDb', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20200920221845_ChangeBaseEntity"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'ModifiedBy');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'DeletedBy');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'CreatedBy');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'ModifiedBy');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'DeletedBy');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'CreatedBy');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'ModifiedBy');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [Questions] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'DeletedBy');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Questions] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'CreatedBy');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Questions] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'ModifiedBy');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var15 sysname;
SELECT @var15 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'DeletedBy');
IF @var15 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var15 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var16 sysname;
SELECT @var16 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'CreatedBy');
IF @var16 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var16 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200920221845_ChangeBaseEntity', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20200921125414_SeedUserData"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921125414_SeedUserData', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20200921130101_SeedUData"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [ModifiedBy], [ModifiedOn], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (N'a4c95d33-b702-499c-b436-621e786e7518', 0, NULL, N'atisadmin@atis.al', '2020-09-21T15:01:01.5661250+02:00', NULL, NULL, N'atisadmin@atis.al', CAST(0 AS bit), N'Atis', N'Admin', CAST(0 AS bit), NULL, NULL, NULL, NULL, NULL, N'Admin123*', NULL, CAST(0 AS bit), NULL, CAST(0 AS bit), NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] OFF;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
VALUES (1, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'rei.xhiani@atis.al', NULL, NULL),
(2, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'nexhip.alimadhi@atis.al', NULL, NULL),
(3, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'lidia.dishnica@atis.al', NULL, NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921130101_SeedUData', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20200928083401_NewAttributeSurvey"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId];"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [QuestionOrders];"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions];"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var17 sysname;
SELECT @var17 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'QuestionOrderId');
IF @var17 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var17 + '];');
ALTER TABLE [SurveyQuestionOptions] DROP COLUMN [QuestionOrderId];"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [SwitchOffRespondents] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [VotingRespondents] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [QuestionId] int NOT NULL DEFAULT 0;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [Order] int NOT NULL DEFAULT 0;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [SurveyId] int NOT NULL DEFAULT 0;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T10:34:01.2090749+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionId] ON [SurveyQuestionOptions] ([QuestionId]);"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Questions_SurveyId] ON [Questions] ([SurveyId]);"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD CONSTRAINT [FK_Questions_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD CONSTRAINT [FK_SurveyQuestionOptions_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928083401_NewAttributeSurvey', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20200928144818_NewAttributeQuestion"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [HasOthers] bit NOT NULL DEFAULT CAST(0 AS bit);"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T16:48:17.7770383+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928144818_NewAttributeQuestion', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20200930134949_IsRequiredQuestion"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [IsRequired] bit NOT NULL DEFAULT CAST(0 AS bit);"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-30T15:49:48.6583417+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200930134949_IsRequiredQuestion', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20201004100612_AddSurveyResult"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyResultId] int NOT NULL DEFAULT 0;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResults] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    CONSTRAINT [PK_SurveyResults] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResults_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id])
);"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-04T12:06:12.0626532+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResultId] ON [Responses] ([SurveyResultId]);"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResults_SurveyId] ON [SurveyResults] ([SurveyId]);"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId] FOREIGN KEY ([SurveyResultId]) REFERENCES [SurveyResults] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201004100612_AddSurveyResult', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20201007110338_DelTableSurveyResult"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId];"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResults];"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResultId] ON [Responses];"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var18 sysname;
SELECT @var18 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResultId');
IF @var18 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var18 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResultId];"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-07T13:03:37.6962785+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201007110338_DelTableSurveyResult', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20201008105847_notRequiredFields"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var19 sysname;
SELECT @var19 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'StartDate');
IF @var19 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var19 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [StartDate] datetime2 NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var20 sysname;
SELECT @var20 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var20 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var20 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NULL;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-08T12:58:46.7099892+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201008105847_notRequiredFields', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20201021140249_NewMigrationForSeedData"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e4dc78d1-91aa-4d3e-aa17-f244b5e72c63', [CreatedOn] = '2020-10-21T16:02:49.0479290+02:00', [NormalizedEmail] = N'ATISADMIN@ATIS.AL', [NormalizedUserName] = N'ATISADMIN@ATIS.AL', [PasswordHash] = N'AQAAAAEAACcQAAAAEPQsdgJx2Hj+/ZD7pLu/Tu5fJgfZVg/eP9IoLzFjv53wAimbkT18LXrgxncu7aT9BQ==', [SecurityStamp] = N'639ef89c-2917-496c-9a94-e4d43d675c82', [UserName] = N'atisadmin@atis.al'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201021140249_NewMigrationForSeedData', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20201117152919_addComments"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Comments] (
    [CommentId] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [DeletedBy] nvarchar(max) NULL,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [CommnetText] nvarchar(max) NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([CommentId]),
    CONSTRAINT [FK_Comments_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'023168dc-35d5-45de-b757-62f544cb6a92', [CreatedOn] = '2020-11-17T16:29:18.6744638+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAEMpfhd+NM76ChIN4Kpb27ECxxURQ5HggRhfqEWy022NwP61xZT6KAvAYT08oSsks0w==', [SecurityStamp] = N'23b1a109-bf36-4e7a-8f40-dd7762341d49'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_RespondentId] ON [Comments] ([RespondentId]);"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_SurveyId] ON [Comments] ([SurveyId]);"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117152919_addComments', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Applying migration '"20201117153042_addComment"'.
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e6deaa16-34ee-45fb-b219-c608da67caa6', [CreatedOn] = '2020-11-17T16:30:42.1671059+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAENl767SDv10vi7qn8FQl66v1qYw/LBX6BM1aEsAN4UmbI7nEQPecqg9MuK+7RgMfRA==', [SecurityStamp] = N'30c126a7-876b-4998-bdee-84d92d4925fd'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:27:04 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117153042_addComment', N'7.0.3');"
02/27/2023 18:27:04 +01:00 Start installing Hangfire SQL objects...
02/27/2023 18:27:04 +01:00 Hangfire SQL objects installed.
02/27/2023 18:27:04 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
02/27/2023 18:27:04 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1,1433@SurveyDb'
02/27/2023 18:27:04 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/27/2023 18:27:04 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/27/2023 18:27:05 +01:00 Server f6a2ca98-a4ba-4042-a279-afb8bfde0890 successfully announced in 83,3301 ms
02/27/2023 18:27:05 +01:00 Server f6a2ca98-a4ba-4042-a279-afb8bfde0890 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/27/2023 18:27:05 +01:00 Server f6a2ca98-a4ba-4042-a279-afb8bfde0890 all the dispatchers started
02/27/2023 18:27:05 +01:00 Now listening on: "http://localhost:59791"
02/27/2023 18:27:05 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1,1433@SurveyDb'
02/27/2023 18:27:05 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/27/2023 18:27:05 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/27/2023 18:27:05 +01:00 Application started. Press Ctrl+C to shut down.
02/27/2023 18:27:05 +01:00 Hosting environment: "Development"
02/27/2023 18:27:05 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
02/27/2023 18:27:05 +01:00 Server 792bd368-0bad-4ced-a620-aae40ae56bbd successfully announced in 26,2215 ms
02/27/2023 18:27:05 +01:00 Server 792bd368-0bad-4ced-a620-aae40ae56bbd is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/27/2023 18:27:06 +01:00 Server 792bd368-0bad-4ced-a620-aae40ae56bbd all the dispatchers started
02/27/2023 18:31:01 +01:00 Executed DbCommand ("1,387"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""CREATE DATABASE [SurveyDb];"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("459"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [SurveyDb] SET READ_COMMITTED_SNAPSHOT ON;
END;"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/27/2023 18:31:01 +01:00 No migrations were applied. The database is already up to date.
02/27/2023 18:31:01 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/27/2023 18:31:01 +01:00 Applying migration '"20200916091934_InitialCreate"'.
02/27/2023 18:31:01 +01:00 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916091934_InitialCreate', N'7.0.3');"
02/27/2023 18:31:01 +01:00 Applying migration '"20200916135823_Entities"'.
02/27/2023 18:31:01 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Questions] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    [Options] nvarchar(max) NULL,
    [QuestionType] int NOT NULL,
    CONSTRAINT [PK_Questions] PRIMARY KEY ([Id])
);"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Respondents] (
    [Id] int NOT NULL IDENTITY,
    [Email] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Respondents] PRIMARY KEY ([Id])
);"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Surveys] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [EndDate] datetime2 NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Surveys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Surveys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [QuestionOrders] (
    [Id] int NOT NULL IDENTITY,
    [QuestionId] int NOT NULL,
    [SurveyId] int NOT NULL,
    [Order] int NOT NULL,
    CONSTRAINT [PK_QuestionOrders] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_QuestionOrders_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_QuestionOrders_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:31:01 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResponses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [HasVoted] bit NOT NULL,
    CONSTRAINT [PK_SurveyResponses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResponses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_SurveyResponses_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Responses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyResponseId] int NOT NULL,
    [QuestionId] int NOT NULL,
    [Answer] nvarchar(max) NULL,
    CONSTRAINT [PK_Responses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Responses_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId] FOREIGN KEY ([SurveyResponseId]) REFERENCES [SurveyResponses] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("73"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [Email])
VALUES (1, N'rei.xhiani@atis.al'),
(2, N'nexhip.alimadhi@atis.al'),
(3, N'lidia.dishnica@atis.al');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FirstName], [LastName], [ModifiedBy], [ModifiedOn], [Password])
VALUES (1, 1, '2020-09-16T15:58:23.0343274+02:00', NULL, NULL, N'atisadmin@atis.al', N'Atis', N'Admin', NULL, NULL, N'1234');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_QuestionId] ON [QuestionOrders] ([QuestionId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_SurveyId] ON [QuestionOrders] ([SurveyId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_QuestionId] ON [Responses] ([QuestionId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResponseId] ON [Responses] ([SurveyResponseId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_RespondentId] ON [SurveyResponses] ([RespondentId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_SurveyId] ON [SurveyResponses] ([SurveyId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_UserId] ON [Surveys] ([UserId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916135823_Entities', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200917094757_addEntityModification"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_Questions_QuestionId];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResponses];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_QuestionId] ON [Responses];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResponseId] ON [Responses];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'Answer');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Responses] DROP COLUMN [Answer];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'QuestionId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Responses] DROP COLUMN [QuestionId];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResponseId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResponseId];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'Options');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Questions] DROP COLUMN [Options];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [Other] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [RespondentId] int NOT NULL DEFAULT 0;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyQuestionOptionsId] int NOT NULL DEFAULT 0;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyQuestionOptions] (
    [Id] int NOT NULL IDENTITY,
    [Option] nvarchar(max) NULL,
    [QuestionOrderId] int NOT NULL,
    CONSTRAINT [PK_SurveyQuestionOptions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId] FOREIGN KEY ([QuestionOrderId]) REFERENCES [QuestionOrders] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:47:56.9588654+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_RespondentId] ON [Responses] ([RespondentId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyQuestionOptionsId] ON [Responses] ([SurveyQuestionOptionsId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions] ([QuestionOrderId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyQuestionOptions_SurveyQuestionOptionsId] FOREIGN KEY ([SurveyQuestionOptionsId]) REFERENCES [SurveyQuestionOptions] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917094757_addEntityModification', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200917095045_Entities2"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:50:44.8230684+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917095045_Entities2', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200917135857_AddedBaseEntityInRespondent"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedBy] int NOT NULL DEFAULT 0;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedOn] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedBy] int NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedBy] int NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedOn] datetime2 NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T15:58:57.0252736+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917135857_AddedBaseEntityInRespondent', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200918121505_EntitiesNewProperty"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [StartDate] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NOT NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [QuestionOrders] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-18T14:15:05.2631694+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200918121505_EntitiesNewProperty', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200919211010_AddAspNetUsersToDb"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] DROP CONSTRAINT [FK_Surveys_Users_UserId];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [Users];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Surveys_UserId] ON [Surveys];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 2;
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 3;
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [AspNetUsersId] nvarchar(450) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserLogins] (
    [Id] int NOT NULL IDENTITY,
    [LoginProvider] nvarchar(128) NULL,
    [ProviderKey] nvarchar(128) NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserTokens] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [LoginProvider] nvarchar(128) NULL,
    [Name] nvarchar(128) NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_AspNetUsersId] ON [Surveys] ([AspNetUsersId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserTokens_UserId] ON [AspNetUserTokens] ([UserId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD CONSTRAINT [FK_Surveys_AspNetUsers_AspNetUsersId] FOREIGN KEY ([AspNetUsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200919211010_AddAspNetUsersToDb', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200920221845_ChangeBaseEntity"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'ModifiedBy');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'DeletedBy');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'CreatedBy');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'ModifiedBy');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'DeletedBy');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'CreatedBy');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'ModifiedBy');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [Questions] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'DeletedBy');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Questions] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'CreatedBy');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Questions] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'ModifiedBy');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var15 sysname;
SELECT @var15 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'DeletedBy');
IF @var15 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var15 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var16 sysname;
SELECT @var16 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'CreatedBy');
IF @var16 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var16 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200920221845_ChangeBaseEntity', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200921125414_SeedUserData"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921125414_SeedUserData', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200921130101_SeedUData"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [ModifiedBy], [ModifiedOn], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (N'a4c95d33-b702-499c-b436-621e786e7518', 0, NULL, N'atisadmin@atis.al', '2020-09-21T15:01:01.5661250+02:00', NULL, NULL, N'atisadmin@atis.al', CAST(0 AS bit), N'Atis', N'Admin', CAST(0 AS bit), NULL, NULL, NULL, NULL, NULL, N'Admin123*', NULL, CAST(0 AS bit), NULL, CAST(0 AS bit), NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] OFF;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
VALUES (1, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'rei.xhiani@atis.al', NULL, NULL),
(2, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'nexhip.alimadhi@atis.al', NULL, NULL),
(3, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'lidia.dishnica@atis.al', NULL, NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921130101_SeedUData', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200928083401_NewAttributeSurvey"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [QuestionOrders];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var17 sysname;
SELECT @var17 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'QuestionOrderId');
IF @var17 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var17 + '];');
ALTER TABLE [SurveyQuestionOptions] DROP COLUMN [QuestionOrderId];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [SwitchOffRespondents] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [VotingRespondents] nvarchar(max) NULL;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [QuestionId] int NOT NULL DEFAULT 0;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [Order] int NOT NULL DEFAULT 0;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [SurveyId] int NOT NULL DEFAULT 0;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T10:34:01.2090749+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionId] ON [SurveyQuestionOptions] ([QuestionId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Questions_SurveyId] ON [Questions] ([SurveyId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD CONSTRAINT [FK_Questions_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD CONSTRAINT [FK_SurveyQuestionOptions_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928083401_NewAttributeSurvey', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200928144818_NewAttributeQuestion"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [HasOthers] bit NOT NULL DEFAULT CAST(0 AS bit);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T16:48:17.7770383+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928144818_NewAttributeQuestion', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20200930134949_IsRequiredQuestion"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("49"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [IsRequired] bit NOT NULL DEFAULT CAST(0 AS bit);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-30T15:49:48.6583417+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200930134949_IsRequiredQuestion', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20201004100612_AddSurveyResult"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyResultId] int NOT NULL DEFAULT 0;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResults] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    CONSTRAINT [PK_SurveyResults] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResults_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id])
);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-04T12:06:12.0626532+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResultId] ON [Responses] ([SurveyResultId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResults_SurveyId] ON [SurveyResults] ([SurveyId]);"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId] FOREIGN KEY ([SurveyResultId]) REFERENCES [SurveyResults] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201004100612_AddSurveyResult', N'7.0.3');"
02/27/2023 18:31:02 +01:00 Applying migration '"20201007110338_DelTableSurveyResult"'.
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId];"
02/27/2023 18:31:02 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResults];"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResultId] ON [Responses];"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var18 sysname;
SELECT @var18 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResultId');
IF @var18 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var18 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResultId];"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-07T13:03:37.6962785+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201007110338_DelTableSurveyResult', N'7.0.3');"
02/27/2023 18:31:03 +01:00 Applying migration '"20201008105847_notRequiredFields"'.
02/27/2023 18:31:03 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var19 sysname;
SELECT @var19 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'StartDate');
IF @var19 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var19 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [StartDate] datetime2 NULL;"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var20 sysname;
SELECT @var20 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var20 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var20 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NULL;"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-08T12:58:46.7099892+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201008105847_notRequiredFields', N'7.0.3');"
02/27/2023 18:31:03 +01:00 Applying migration '"20201021140249_NewMigrationForSeedData"'.
02/27/2023 18:31:03 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e4dc78d1-91aa-4d3e-aa17-f244b5e72c63', [CreatedOn] = '2020-10-21T16:02:49.0479290+02:00', [NormalizedEmail] = N'ATISADMIN@ATIS.AL', [NormalizedUserName] = N'ATISADMIN@ATIS.AL', [PasswordHash] = N'AQAAAAEAACcQAAAAEPQsdgJx2Hj+/ZD7pLu/Tu5fJgfZVg/eP9IoLzFjv53wAimbkT18LXrgxncu7aT9BQ==', [SecurityStamp] = N'639ef89c-2917-496c-9a94-e4d43d675c82', [UserName] = N'atisadmin@atis.al'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201021140249_NewMigrationForSeedData', N'7.0.3');"
02/27/2023 18:31:03 +01:00 Applying migration '"20201117152919_addComments"'.
02/27/2023 18:31:03 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Comments] (
    [CommentId] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [DeletedBy] nvarchar(max) NULL,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [CommnetText] nvarchar(max) NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([CommentId]),
    CONSTRAINT [FK_Comments_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'023168dc-35d5-45de-b757-62f544cb6a92', [CreatedOn] = '2020-11-17T16:29:18.6744638+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAEMpfhd+NM76ChIN4Kpb27ECxxURQ5HggRhfqEWy022NwP61xZT6KAvAYT08oSsks0w==', [SecurityStamp] = N'23b1a109-bf36-4e7a-8f40-dd7762341d49'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_RespondentId] ON [Comments] ([RespondentId]);"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_SurveyId] ON [Comments] ([SurveyId]);"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117152919_addComments', N'7.0.3');"
02/27/2023 18:31:03 +01:00 Applying migration '"20201117153042_addComment"'.
02/27/2023 18:31:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e6deaa16-34ee-45fb-b219-c608da67caa6', [CreatedOn] = '2020-11-17T16:30:42.1671059+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAENl767SDv10vi7qn8FQl66v1qYw/LBX6BM1aEsAN4UmbI7nEQPecqg9MuK+7RgMfRA==', [SecurityStamp] = N'30c126a7-876b-4998-bdee-84d92d4925fd'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:31:03 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117153042_addComment', N'7.0.3');"
02/27/2023 18:31:03 +01:00 Start installing Hangfire SQL objects...
02/27/2023 18:31:03 +01:00 Hangfire SQL objects installed.
02/27/2023 18:31:03 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
02/27/2023 18:31:03 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1,1433@SurveyDb'
02/27/2023 18:31:03 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/27/2023 18:31:03 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/27/2023 18:31:03 +01:00 Server d7a13b0d-ebb7-4e2d-9417-bbf4f52a72ed successfully announced in 75,3712 ms
02/27/2023 18:31:03 +01:00 Server d7a13b0d-ebb7-4e2d-9417-bbf4f52a72ed is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/27/2023 18:31:03 +01:00 Server d7a13b0d-ebb7-4e2d-9417-bbf4f52a72ed all the dispatchers started
02/27/2023 18:31:04 +01:00 Now listening on: "http://localhost:59791"
02/27/2023 18:31:04 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1,1433@SurveyDb'
02/27/2023 18:31:04 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/27/2023 18:31:04 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/27/2023 18:31:04 +01:00 Application started. Press Ctrl+C to shut down.
02/27/2023 18:31:04 +01:00 Hosting environment: "Development"
02/27/2023 18:31:04 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
02/27/2023 18:31:04 +01:00 Server 3a071350-93b2-421a-b2d7-29d4e574eacf successfully announced in 5,9198 ms
02/27/2023 18:31:04 +01:00 Server 3a071350-93b2-421a-b2d7-29d4e574eacf is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/27/2023 18:31:04 +01:00 Server 3a071350-93b2-421a-b2d7-29d4e574eacf all the dispatchers started
02/27/2023 18:31:05 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/index.html - -
02/27/2023 18:31:05 +01:00 Failed to determine the https port for redirect.
02/27/2023 18:31:05 +01:00 HTTP "GET" "/index.html" responded 200 in 37.7824 ms
02/27/2023 18:31:05 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/index.html - - - 200 - text/html;charset=utf-8 42.8982ms
02/27/2023 18:31:05 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/swagger/v1.0/swagger.json - -
02/27/2023 18:31:05 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 178.9440 ms
02/27/2023 18:31:05 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 201.4779ms
02/27/2023 18:48:27 +01:00 Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:48:27 +01:00 Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:48:27 +01:00 Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:48:27 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);"
02/27/2023 18:48:27 +01:00 Executed DbCommand ("52"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:48:27 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:48:27 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/27/2023 18:48:27 +01:00 No migrations were applied. The database is already up to date.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/27/2023 18:48:28 +01:00 Applying migration '"20200916091934_InitialCreate"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916091934_InitialCreate', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200916135823_Entities"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Questions] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    [Options] nvarchar(max) NULL,
    [QuestionType] int NOT NULL,
    CONSTRAINT [PK_Questions] PRIMARY KEY ([Id])
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Respondents] (
    [Id] int NOT NULL IDENTITY,
    [Email] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Respondents] PRIMARY KEY ([Id])
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Surveys] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [EndDate] datetime2 NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Surveys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Surveys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [QuestionOrders] (
    [Id] int NOT NULL IDENTITY,
    [QuestionId] int NOT NULL,
    [SurveyId] int NOT NULL,
    [Order] int NOT NULL,
    CONSTRAINT [PK_QuestionOrders] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_QuestionOrders_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_QuestionOrders_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResponses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [HasVoted] bit NOT NULL,
    CONSTRAINT [PK_SurveyResponses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResponses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_SurveyResponses_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Responses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyResponseId] int NOT NULL,
    [QuestionId] int NOT NULL,
    [Answer] nvarchar(max) NULL,
    CONSTRAINT [PK_Responses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Responses_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId] FOREIGN KEY ([SurveyResponseId]) REFERENCES [SurveyResponses] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("49"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [Email])
VALUES (1, N'rei.xhiani@atis.al'),
(2, N'nexhip.alimadhi@atis.al'),
(3, N'lidia.dishnica@atis.al');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FirstName], [LastName], [ModifiedBy], [ModifiedOn], [Password])
VALUES (1, 1, '2020-09-16T15:58:23.0343274+02:00', NULL, NULL, N'atisadmin@atis.al', N'Atis', N'Admin', NULL, NULL, N'1234');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_QuestionId] ON [QuestionOrders] ([QuestionId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_SurveyId] ON [QuestionOrders] ([SurveyId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_QuestionId] ON [Responses] ([QuestionId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResponseId] ON [Responses] ([SurveyResponseId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_RespondentId] ON [SurveyResponses] ([RespondentId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_SurveyId] ON [SurveyResponses] ([SurveyId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_UserId] ON [Surveys] ([UserId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916135823_Entities', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200917094757_addEntityModification"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_Questions_QuestionId];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResponses];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_QuestionId] ON [Responses];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResponseId] ON [Responses];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("34"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'Answer');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Responses] DROP COLUMN [Answer];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'QuestionId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Responses] DROP COLUMN [QuestionId];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResponseId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResponseId];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'Options');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Questions] DROP COLUMN [Options];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [Other] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [RespondentId] int NOT NULL DEFAULT 0;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyQuestionOptionsId] int NOT NULL DEFAULT 0;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyQuestionOptions] (
    [Id] int NOT NULL IDENTITY,
    [Option] nvarchar(max) NULL,
    [QuestionOrderId] int NOT NULL,
    CONSTRAINT [PK_SurveyQuestionOptions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId] FOREIGN KEY ([QuestionOrderId]) REFERENCES [QuestionOrders] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:47:56.9588654+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_RespondentId] ON [Responses] ([RespondentId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyQuestionOptionsId] ON [Responses] ([SurveyQuestionOptionsId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions] ([QuestionOrderId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyQuestionOptions_SurveyQuestionOptionsId] FOREIGN KEY ([SurveyQuestionOptionsId]) REFERENCES [SurveyQuestionOptions] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917094757_addEntityModification', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200917095045_Entities2"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:50:44.8230684+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917095045_Entities2', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200917135857_AddedBaseEntityInRespondent"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedBy] int NOT NULL DEFAULT 0;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedOn] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedBy] int NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedBy] int NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedOn] datetime2 NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T15:58:57.0252736+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917135857_AddedBaseEntityInRespondent', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200918121505_EntitiesNewProperty"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [StartDate] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NOT NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [QuestionOrders] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-18T14:15:05.2631694+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200918121505_EntitiesNewProperty', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200919211010_AddAspNetUsersToDb"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] DROP CONSTRAINT [FK_Surveys_Users_UserId];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [Users];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Surveys_UserId] ON [Surveys];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 2;
SELECT @@ROWCOUNT;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 3;
SELECT @@ROWCOUNT;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [AspNetUsersId] nvarchar(450) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserLogins] (
    [Id] int NOT NULL IDENTITY,
    [LoginProvider] nvarchar(128) NULL,
    [ProviderKey] nvarchar(128) NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserTokens] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [LoginProvider] nvarchar(128) NULL,
    [Name] nvarchar(128) NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_AspNetUsersId] ON [Surveys] ([AspNetUsersId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserTokens_UserId] ON [AspNetUserTokens] ([UserId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD CONSTRAINT [FK_Surveys_AspNetUsers_AspNetUsersId] FOREIGN KEY ([AspNetUsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200919211010_AddAspNetUsersToDb', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200920221845_ChangeBaseEntity"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'ModifiedBy');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'DeletedBy');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'CreatedBy');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'ModifiedBy');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'DeletedBy');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'CreatedBy');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'ModifiedBy');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [Questions] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'DeletedBy');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Questions] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'CreatedBy');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Questions] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'ModifiedBy');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var15 sysname;
SELECT @var15 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'DeletedBy');
IF @var15 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var15 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var16 sysname;
SELECT @var16 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'CreatedBy');
IF @var16 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var16 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200920221845_ChangeBaseEntity', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200921125414_SeedUserData"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921125414_SeedUserData', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200921130101_SeedUData"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [ModifiedBy], [ModifiedOn], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (N'a4c95d33-b702-499c-b436-621e786e7518', 0, NULL, N'atisadmin@atis.al', '2020-09-21T15:01:01.5661250+02:00', NULL, NULL, N'atisadmin@atis.al', CAST(0 AS bit), N'Atis', N'Admin', CAST(0 AS bit), NULL, NULL, NULL, NULL, NULL, N'Admin123*', NULL, CAST(0 AS bit), NULL, CAST(0 AS bit), NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] OFF;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
VALUES (1, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'rei.xhiani@atis.al', NULL, NULL),
(2, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'nexhip.alimadhi@atis.al', NULL, NULL),
(3, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'lidia.dishnica@atis.al', NULL, NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921130101_SeedUData', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200928083401_NewAttributeSurvey"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [QuestionOrders];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var17 sysname;
SELECT @var17 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'QuestionOrderId');
IF @var17 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var17 + '];');
ALTER TABLE [SurveyQuestionOptions] DROP COLUMN [QuestionOrderId];"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [SwitchOffRespondents] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [VotingRespondents] nvarchar(max) NULL;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [QuestionId] int NOT NULL DEFAULT 0;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [Order] int NOT NULL DEFAULT 0;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [SurveyId] int NOT NULL DEFAULT 0;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T10:34:01.2090749+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionId] ON [SurveyQuestionOptions] ([QuestionId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Questions_SurveyId] ON [Questions] ([SurveyId]);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD CONSTRAINT [FK_Questions_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD CONSTRAINT [FK_SurveyQuestionOptions_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("70"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928083401_NewAttributeSurvey', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200928144818_NewAttributeQuestion"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [HasOthers] bit NOT NULL DEFAULT CAST(0 AS bit);"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T16:48:17.7770383+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:48:28 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928144818_NewAttributeQuestion', N'7.0.3');"
02/27/2023 18:48:28 +01:00 Applying migration '"20200930134949_IsRequiredQuestion"'.
02/27/2023 18:48:28 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [IsRequired] bit NOT NULL DEFAULT CAST(0 AS bit);"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-30T15:49:48.6583417+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200930134949_IsRequiredQuestion', N'7.0.3');"
02/27/2023 18:48:29 +01:00 Applying migration '"20201004100612_AddSurveyResult"'.
02/27/2023 18:48:29 +01:00 Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyResultId] int NOT NULL DEFAULT 0;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResults] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    CONSTRAINT [PK_SurveyResults] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResults_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id])
);"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-04T12:06:12.0626532+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResultId] ON [Responses] ([SurveyResultId]);"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResults_SurveyId] ON [SurveyResults] ([SurveyId]);"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId] FOREIGN KEY ([SurveyResultId]) REFERENCES [SurveyResults] ([Id]) ON DELETE CASCADE;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201004100612_AddSurveyResult', N'7.0.3');"
02/27/2023 18:48:29 +01:00 Applying migration '"20201007110338_DelTableSurveyResult"'.
02/27/2023 18:48:29 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId];"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResults];"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResultId] ON [Responses];"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var18 sysname;
SELECT @var18 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResultId');
IF @var18 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var18 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResultId];"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-07T13:03:37.6962785+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201007110338_DelTableSurveyResult', N'7.0.3');"
02/27/2023 18:48:29 +01:00 Applying migration '"20201008105847_notRequiredFields"'.
02/27/2023 18:48:29 +01:00 Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var19 sysname;
SELECT @var19 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'StartDate');
IF @var19 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var19 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [StartDate] datetime2 NULL;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var20 sysname;
SELECT @var20 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var20 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var20 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NULL;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-08T12:58:46.7099892+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201008105847_notRequiredFields', N'7.0.3');"
02/27/2023 18:48:29 +01:00 Applying migration '"20201021140249_NewMigrationForSeedData"'.
02/27/2023 18:48:29 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e4dc78d1-91aa-4d3e-aa17-f244b5e72c63', [CreatedOn] = '2020-10-21T16:02:49.0479290+02:00', [NormalizedEmail] = N'ATISADMIN@ATIS.AL', [NormalizedUserName] = N'ATISADMIN@ATIS.AL', [PasswordHash] = N'AQAAAAEAACcQAAAAEPQsdgJx2Hj+/ZD7pLu/Tu5fJgfZVg/eP9IoLzFjv53wAimbkT18LXrgxncu7aT9BQ==', [SecurityStamp] = N'639ef89c-2917-496c-9a94-e4d43d675c82', [UserName] = N'atisadmin@atis.al'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201021140249_NewMigrationForSeedData', N'7.0.3');"
02/27/2023 18:48:29 +01:00 Applying migration '"20201117152919_addComments"'.
02/27/2023 18:48:29 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Comments] (
    [CommentId] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [DeletedBy] nvarchar(max) NULL,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [CommnetText] nvarchar(max) NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([CommentId]),
    CONSTRAINT [FK_Comments_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'023168dc-35d5-45de-b757-62f544cb6a92', [CreatedOn] = '2020-11-17T16:29:18.6744638+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAEMpfhd+NM76ChIN4Kpb27ECxxURQ5HggRhfqEWy022NwP61xZT6KAvAYT08oSsks0w==', [SecurityStamp] = N'23b1a109-bf36-4e7a-8f40-dd7762341d49'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_RespondentId] ON [Comments] ([RespondentId]);"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_SurveyId] ON [Comments] ([SurveyId]);"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117152919_addComments', N'7.0.3');"
02/27/2023 18:48:29 +01:00 Applying migration '"20201117153042_addComment"'.
02/27/2023 18:48:29 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e6deaa16-34ee-45fb-b219-c608da67caa6', [CreatedOn] = '2020-11-17T16:30:42.1671059+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAENl767SDv10vi7qn8FQl66v1qYw/LBX6BM1aEsAN4UmbI7nEQPecqg9MuK+7RgMfRA==', [SecurityStamp] = N'30c126a7-876b-4998-bdee-84d92d4925fd'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 18:48:29 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117153042_addComment', N'7.0.3');"
02/27/2023 18:48:29 +01:00 Start installing Hangfire SQL objects...
02/27/2023 18:48:29 +01:00 Hangfire SQL objects installed.
02/27/2023 18:48:29 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
02/27/2023 18:48:29 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1,1433@SurveyDb'
02/27/2023 18:48:29 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/27/2023 18:48:29 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/27/2023 18:48:29 +01:00 Server 4a90d53b-f68d-483c-b2cc-0fb4d75cabe2 successfully announced in 81,8102 ms
02/27/2023 18:48:29 +01:00 Server 4a90d53b-f68d-483c-b2cc-0fb4d75cabe2 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/27/2023 18:48:29 +01:00 Server 4a90d53b-f68d-483c-b2cc-0fb4d75cabe2 all the dispatchers started
02/27/2023 18:48:30 +01:00 Now listening on: "http://localhost:59791"
02/27/2023 18:48:30 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1,1433@SurveyDb'
02/27/2023 18:48:30 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/27/2023 18:48:30 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/27/2023 18:48:30 +01:00 Application started. Press Ctrl+C to shut down.
02/27/2023 18:48:30 +01:00 Hosting environment: "Development"
02/27/2023 18:48:30 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
02/27/2023 18:48:30 +01:00 Server e6740f6c-f016-49f1-9b7a-b60b43a032d6 successfully announced in 7,0287 ms
02/27/2023 18:48:30 +01:00 Server e6740f6c-f016-49f1-9b7a-b60b43a032d6 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/27/2023 18:48:30 +01:00 Server e6740f6c-f016-49f1-9b7a-b60b43a032d6 all the dispatchers started
02/27/2023 19:01:29 +01:00 Executed DbCommand ("573"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""CREATE DATABASE [SurveyDb];"
02/27/2023 19:01:29 +01:00 Executed DbCommand ("219"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [SurveyDb] SET READ_COMMITTED_SNAPSHOT ON;
END;"
02/27/2023 19:01:29 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/27/2023 19:01:30 +01:00 No migrations were applied. The database is already up to date.
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
02/27/2023 19:01:30 +01:00 Applying migration '"20200916091934_InitialCreate"'.
02/27/2023 19:01:30 +01:00 Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916091934_InitialCreate', N'7.0.3');"
02/27/2023 19:01:30 +01:00 Applying migration '"20200916135823_Entities"'.
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Questions] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    [Options] nvarchar(max) NULL,
    [QuestionType] int NOT NULL,
    CONSTRAINT [PK_Questions] PRIMARY KEY ([Id])
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Respondents] (
    [Id] int NOT NULL IDENTITY,
    [Email] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Respondents] PRIMARY KEY ([Id])
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Surveys] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [EndDate] datetime2 NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Surveys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Surveys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [QuestionOrders] (
    [Id] int NOT NULL IDENTITY,
    [QuestionId] int NOT NULL,
    [SurveyId] int NOT NULL,
    [Order] int NOT NULL,
    CONSTRAINT [PK_QuestionOrders] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_QuestionOrders_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_QuestionOrders_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResponses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [HasVoted] bit NOT NULL,
    CONSTRAINT [PK_SurveyResponses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResponses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_SurveyResponses_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Responses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyResponseId] int NOT NULL,
    [QuestionId] int NOT NULL,
    [Answer] nvarchar(max) NULL,
    CONSTRAINT [PK_Responses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Responses_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId] FOREIGN KEY ([SurveyResponseId]) REFERENCES [SurveyResponses] ([Id]) ON DELETE CASCADE
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [Email])
VALUES (1, N'rei.xhiani@atis.al'),
(2, N'nexhip.alimadhi@atis.al'),
(3, N'lidia.dishnica@atis.al');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FirstName], [LastName], [ModifiedBy], [ModifiedOn], [Password])
VALUES (1, 1, '2020-09-16T15:58:23.0343274+02:00', NULL, NULL, N'atisadmin@atis.al', N'Atis', N'Admin', NULL, NULL, N'1234');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_QuestionId] ON [QuestionOrders] ([QuestionId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_SurveyId] ON [QuestionOrders] ([SurveyId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_QuestionId] ON [Responses] ([QuestionId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResponseId] ON [Responses] ([SurveyResponseId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_RespondentId] ON [SurveyResponses] ([RespondentId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_SurveyId] ON [SurveyResponses] ([SurveyId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_UserId] ON [Surveys] ([UserId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916135823_Entities', N'7.0.3');"
02/27/2023 19:01:30 +01:00 Applying migration '"20200917094757_addEntityModification"'.
02/27/2023 19:01:30 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_Questions_QuestionId];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResponses];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_QuestionId] ON [Responses];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResponseId] ON [Responses];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'Answer');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Responses] DROP COLUMN [Answer];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'QuestionId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Responses] DROP COLUMN [QuestionId];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResponseId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResponseId];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'Options');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Questions] DROP COLUMN [Options];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [Other] nvarchar(max) NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [RespondentId] int NOT NULL DEFAULT 0;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyQuestionOptionsId] int NOT NULL DEFAULT 0;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyQuestionOptions] (
    [Id] int NOT NULL IDENTITY,
    [Option] nvarchar(max) NULL,
    [QuestionOrderId] int NOT NULL,
    CONSTRAINT [PK_SurveyQuestionOptions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId] FOREIGN KEY ([QuestionOrderId]) REFERENCES [QuestionOrders] ([Id]) ON DELETE CASCADE
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:47:56.9588654+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_RespondentId] ON [Responses] ([RespondentId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyQuestionOptionsId] ON [Responses] ([SurveyQuestionOptionsId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions] ([QuestionOrderId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyQuestionOptions_SurveyQuestionOptionsId] FOREIGN KEY ([SurveyQuestionOptionsId]) REFERENCES [SurveyQuestionOptions] ([Id]) ON DELETE CASCADE;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917094757_addEntityModification', N'7.0.3');"
02/27/2023 19:01:30 +01:00 Applying migration '"20200917095045_Entities2"'.
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:50:44.8230684+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917095045_Entities2', N'7.0.3');"
02/27/2023 19:01:30 +01:00 Applying migration '"20200917135857_AddedBaseEntityInRespondent"'.
02/27/2023 19:01:30 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedBy] int NOT NULL DEFAULT 0;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedOn] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedBy] int NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedBy] int NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedOn] datetime2 NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T15:58:57.0252736+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917135857_AddedBaseEntityInRespondent', N'7.0.3');"
02/27/2023 19:01:30 +01:00 Applying migration '"20200918121505_EntitiesNewProperty"'.
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [StartDate] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NOT NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [QuestionOrders] ADD [DeletedOn] datetime2 NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-18T14:15:05.2631694+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200918121505_EntitiesNewProperty', N'7.0.3');"
02/27/2023 19:01:30 +01:00 Applying migration '"20200919211010_AddAspNetUsersToDb"'.
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] DROP CONSTRAINT [FK_Surveys_Users_UserId];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [Users];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Surveys_UserId] ON [Surveys];"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 2;
SELECT @@ROWCOUNT;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 3;
SELECT @@ROWCOUNT;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [AspNetUsersId] nvarchar(450) NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserLogins] (
    [Id] int NOT NULL IDENTITY,
    [LoginProvider] nvarchar(128) NULL,
    [ProviderKey] nvarchar(128) NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserTokens] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [LoginProvider] nvarchar(128) NULL,
    [Name] nvarchar(128) NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_AspNetUsersId] ON [Surveys] ([AspNetUsersId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserTokens_UserId] ON [AspNetUserTokens] ([UserId]);"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD CONSTRAINT [FK_Surveys_AspNetUsers_AspNetUsersId] FOREIGN KEY ([AspNetUsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200919211010_AddAspNetUsersToDb', N'7.0.3');"
02/27/2023 19:01:30 +01:00 Applying migration '"20200920221845_ChangeBaseEntity"'.
02/27/2023 19:01:30 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'ModifiedBy');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 19:01:30 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'DeletedBy');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'CreatedBy');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'ModifiedBy');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'DeletedBy');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'CreatedBy');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'ModifiedBy');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [Questions] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'DeletedBy');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Questions] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'CreatedBy');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Questions] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'ModifiedBy');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var15 sysname;
SELECT @var15 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'DeletedBy');
IF @var15 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var15 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var16 sysname;
SELECT @var16 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'CreatedBy');
IF @var16 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var16 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200920221845_ChangeBaseEntity', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20200921125414_SeedUserData"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921125414_SeedUserData', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20200921130101_SeedUData"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [ModifiedBy], [ModifiedOn], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (N'a4c95d33-b702-499c-b436-621e786e7518', 0, NULL, N'atisadmin@atis.al', '2020-09-21T15:01:01.5661250+02:00', NULL, NULL, N'atisadmin@atis.al', CAST(0 AS bit), N'Atis', N'Admin', CAST(0 AS bit), NULL, NULL, NULL, NULL, NULL, N'Admin123*', NULL, CAST(0 AS bit), NULL, CAST(0 AS bit), NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] OFF;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
VALUES (1, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'rei.xhiani@atis.al', NULL, NULL),
(2, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'nexhip.alimadhi@atis.al', NULL, NULL),
(3, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'lidia.dishnica@atis.al', NULL, NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921130101_SeedUData', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20200928083401_NewAttributeSurvey"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId];"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [QuestionOrders];"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions];"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var17 sysname;
SELECT @var17 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'QuestionOrderId');
IF @var17 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var17 + '];');
ALTER TABLE [SurveyQuestionOptions] DROP COLUMN [QuestionOrderId];"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [SwitchOffRespondents] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [VotingRespondents] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [QuestionId] int NOT NULL DEFAULT 0;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [Order] int NOT NULL DEFAULT 0;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [SurveyId] int NOT NULL DEFAULT 0;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T10:34:01.2090749+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionId] ON [SurveyQuestionOptions] ([QuestionId]);"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Questions_SurveyId] ON [Questions] ([SurveyId]);"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD CONSTRAINT [FK_Questions_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD CONSTRAINT [FK_SurveyQuestionOptions_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928083401_NewAttributeSurvey', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20200928144818_NewAttributeQuestion"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [HasOthers] bit NOT NULL DEFAULT CAST(0 AS bit);"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T16:48:17.7770383+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928144818_NewAttributeQuestion', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20200930134949_IsRequiredQuestion"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [IsRequired] bit NOT NULL DEFAULT CAST(0 AS bit);"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-30T15:49:48.6583417+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200930134949_IsRequiredQuestion', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20201004100612_AddSurveyResult"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyResultId] int NOT NULL DEFAULT 0;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResults] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    CONSTRAINT [PK_SurveyResults] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResults_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id])
);"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-04T12:06:12.0626532+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResultId] ON [Responses] ([SurveyResultId]);"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResults_SurveyId] ON [SurveyResults] ([SurveyId]);"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId] FOREIGN KEY ([SurveyResultId]) REFERENCES [SurveyResults] ([Id]) ON DELETE CASCADE;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201004100612_AddSurveyResult', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20201007110338_DelTableSurveyResult"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId];"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResults];"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResultId] ON [Responses];"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var18 sysname;
SELECT @var18 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResultId');
IF @var18 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var18 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResultId];"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-07T13:03:37.6962785+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201007110338_DelTableSurveyResult', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20201008105847_notRequiredFields"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var19 sysname;
SELECT @var19 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'StartDate');
IF @var19 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var19 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [StartDate] datetime2 NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var20 sysname;
SELECT @var20 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var20 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var20 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NULL;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-08T12:58:46.7099892+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201008105847_notRequiredFields', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20201021140249_NewMigrationForSeedData"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e4dc78d1-91aa-4d3e-aa17-f244b5e72c63', [CreatedOn] = '2020-10-21T16:02:49.0479290+02:00', [NormalizedEmail] = N'ATISADMIN@ATIS.AL', [NormalizedUserName] = N'ATISADMIN@ATIS.AL', [PasswordHash] = N'AQAAAAEAACcQAAAAEPQsdgJx2Hj+/ZD7pLu/Tu5fJgfZVg/eP9IoLzFjv53wAimbkT18LXrgxncu7aT9BQ==', [SecurityStamp] = N'639ef89c-2917-496c-9a94-e4d43d675c82', [UserName] = N'atisadmin@atis.al'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201021140249_NewMigrationForSeedData', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20201117152919_addComments"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Comments] (
    [CommentId] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [DeletedBy] nvarchar(max) NULL,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [CommnetText] nvarchar(max) NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([CommentId]),
    CONSTRAINT [FK_Comments_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'023168dc-35d5-45de-b757-62f544cb6a92', [CreatedOn] = '2020-11-17T16:29:18.6744638+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAEMpfhd+NM76ChIN4Kpb27ECxxURQ5HggRhfqEWy022NwP61xZT6KAvAYT08oSsks0w==', [SecurityStamp] = N'23b1a109-bf36-4e7a-8f40-dd7762341d49'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_RespondentId] ON [Comments] ([RespondentId]);"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_SurveyId] ON [Comments] ([SurveyId]);"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117152919_addComments', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Applying migration '"20201117153042_addComment"'.
02/27/2023 19:01:31 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e6deaa16-34ee-45fb-b219-c608da67caa6', [CreatedOn] = '2020-11-17T16:30:42.1671059+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAENl767SDv10vi7qn8FQl66v1qYw/LBX6BM1aEsAN4UmbI7nEQPecqg9MuK+7RgMfRA==', [SecurityStamp] = N'30c126a7-876b-4998-bdee-84d92d4925fd'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
02/27/2023 19:01:31 +01:00 Executed DbCommand ("26"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117153042_addComment', N'7.0.3');"
02/27/2023 19:01:31 +01:00 Start installing Hangfire SQL objects...
02/27/2023 19:01:31 +01:00 Hangfire SQL objects installed.
02/27/2023 19:01:31 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
02/27/2023 19:01:31 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1,1433@SurveyDb'
02/27/2023 19:01:31 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/27/2023 19:01:31 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/27/2023 19:01:31 +01:00 Server 389fd51e-bbec-4de8-a243-a1648695ee50 successfully announced in 94,3596 ms
02/27/2023 19:01:31 +01:00 Server 389fd51e-bbec-4de8-a243-a1648695ee50 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/27/2023 19:01:32 +01:00 Server 389fd51e-bbec-4de8-a243-a1648695ee50 all the dispatchers started
02/27/2023 19:01:32 +01:00 Now listening on: "http://localhost:59791"
02/27/2023 19:01:32 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1,1433@SurveyDb'
02/27/2023 19:01:32 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
02/27/2023 19:01:32 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
02/27/2023 19:01:32 +01:00 Application started. Press Ctrl+C to shut down.
02/27/2023 19:01:32 +01:00 Hosting environment: "Docker"
02/27/2023 19:01:32 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
02/27/2023 19:01:32 +01:00 Server 2c42e952-30b8-4b76-ac04-617dcfc773ff successfully announced in 6,1691 ms
02/27/2023 19:01:32 +01:00 Server 2c42e952-30b8-4b76-ac04-617dcfc773ff is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
02/27/2023 19:01:32 +01:00 Server 2c42e952-30b8-4b76-ac04-617dcfc773ff all the dispatchers started
02/27/2023 19:01:33 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/index.html - -
02/27/2023 19:01:33 +01:00 Failed to determine the https port for redirect.
02/27/2023 19:01:33 +01:00 HTTP "GET" "/index.html" responded 200 in 48.8883 ms
02/27/2023 19:01:33 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/index.html - - - 200 - text/html;charset=utf-8 55.7786ms
02/27/2023 19:01:33 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/swagger/v1.0/swagger.json - -
02/27/2023 19:01:33 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 138.6557 ms
02/27/2023 19:01:33 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 139.2130ms
02/27/2023 19:01:51 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/index.html - -
02/27/2023 19:01:51 +01:00 HTTP "GET" "/index.html" responded 200 in 4.7434 ms
02/27/2023 19:01:51 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/index.html - - - 200 - text/html;charset=utf-8 8.9326ms
02/27/2023 19:01:51 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/swagger/v1.0/swagger.json - -
02/27/2023 19:01:51 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 49.0025 ms
02/27/2023 19:01:51 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 49.4653ms
03/03/2023 15:02:07 +01:00 Start installing Hangfire SQL objects...
03/03/2023 15:02:22 +01:00 An exception occurred while trying to perform the migration. Retrying...
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:02:22 +01:00 An exception occurred while trying to perform the migration. Retrying...
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:02:22 +01:00 An exception occurred while trying to perform the migration.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:02:22 +01:00 Was unable to perform the Hangfire schema migration due to an exception. Ignore this message unless you've just installed or upgraded Hangfire.
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerStorage.Initialize()
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:02:22 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
03/03/2023 15:02:22 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
03/03/2023 15:02:22 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
03/03/2023 15:02:22 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
03/03/2023 15:02:22 +01:00 Execution BackgroundServerProcess is in the Failed state now due to an exception, execution will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:02:23 +01:00 Now listening on: "http://localhost:59791"
03/03/2023 15:02:23 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
03/03/2023 15:02:23 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
03/03/2023 15:02:23 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
03/03/2023 15:02:23 +01:00 Application started. Press Ctrl+C to shut down.
03/03/2023 15:02:23 +01:00 Hosting environment: "Docker"
03/03/2023 15:02:23 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
03/03/2023 15:02:23 +01:00 Execution BackgroundServerProcess is in the Failed state now due to an exception, execution will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:02:24 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/ - -
03/03/2023 15:02:24 +01:00 Failed to determine the https port for redirect.
03/03/2023 15:02:24 +01:00 HTTP "GET" "/" responded 301 in 8.5460 ms
03/03/2023 15:02:24 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/ - - - 301 0 - 20.2555ms
03/03/2023 15:02:24 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/index.html - -
03/03/2023 15:02:24 +01:00 HTTP "GET" "/index.html" responded 200 in 31.9018 ms
03/03/2023 15:02:24 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/index.html - - - 200 - text/html;charset=utf-8 32.4244ms
03/03/2023 15:02:24 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/swagger-ui.css - -
03/03/2023 15:02:24 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/swagger-ui-bundle.js - -
03/03/2023 15:02:24 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/swagger-ui-standalone-preset.js - -
03/03/2023 15:02:24 +01:00 Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
03/03/2023 15:02:24 +01:00 Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
03/03/2023 15:02:24 +01:00 Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
03/03/2023 15:02:24 +01:00 HTTP "GET" "/swagger-ui.css" responded 200 in 322.9555 ms
03/03/2023 15:02:24 +01:00 HTTP "GET" "/swagger-ui-standalone-preset.js" responded 200 in 296.6275 ms
03/03/2023 15:02:24 +01:00 HTTP "GET" "/swagger-ui-bundle.js" responded 200 in 322.9350 ms
03/03/2023 15:02:24 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/swagger-ui-bundle.js - - - 200 1061536 text/javascript 323.5053ms
03/03/2023 15:02:24 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/swagger-ui.css - - - 200 144929 text/css 323.5694ms
03/03/2023 15:02:24 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 297.0793ms
03/03/2023 15:02:24 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/swagger/v1.0/swagger.json - -
03/03/2023 15:02:24 +01:00 Request starting HTTP/1.1 GET http://localhost:59791/favicon-32x32.png - -
03/03/2023 15:02:24 +01:00 Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
03/03/2023 15:02:24 +01:00 HTTP "GET" "/favicon-32x32.png" responded 200 in 0.4987 ms
03/03/2023 15:02:24 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/favicon-32x32.png - - - 200 628 image/png 1.1782ms
03/03/2023 15:02:24 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 152.0833 ms
03/03/2023 15:02:24 +01:00 Request finished HTTP/1.1 GET http://localhost:59791/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 152.4523ms
03/03/2023 15:02:52 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:29.6276673 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:02:52 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:29.1513985 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:03:21 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:58.8121281 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:03:21 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:00:59.2903401 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:03:36 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:13.8178628 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:03:36 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:14.2941249 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:04:06 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:43.9647620 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:04:06 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:43.4892720 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:04:21 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:58.4957158 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:04:21 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:01:58.9768273 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:04:36 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:13.5065968 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:04:36 +01:00 Execution BackgroundServerProcess is still in the Failed state for 00:02:13.9827148 due to an exception, will be retried no more than in 00:00:15
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 35 - An internal exception was caught)
 ---> System.AggregateException: One or more errors occurred. (Connection refused)
 ---> System.Net.Sockets.SocketException (61): Connection refused
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Data.SqlClient.SNI.SNITCPHandle.ConnectAsync(String serverName, Int32 port)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)
   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)
   at System.Data.SqlClient.SNI.SNITCPHandle..ctor(String serverName, Int32 port, Int64 timerExpire, Object callbackObject, Boolean parallel)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   at System.Data.SqlClient.SqlConnection.Open()
   at Hangfire.SqlServer.SqlServerStorage.CreateAndOpenConnection()
   at Hangfire.SqlServer.SqlServerStorage.UseConnection[T](DbConnection dedicatedConnection, Func`2 func)
   at Hangfire.SqlServer.SqlServerStorage.UseConnection(DbConnection dedicatedConnection, Action`1 action)
   at Hangfire.SqlServer.SqlServerConnection.AnnounceServer(String serverId, ServerContext context)
   at Hangfire.Server.BackgroundServerProcess.CreateServer(BackgroundServerContext context)
   at Hangfire.Server.BackgroundServerProcess.Execute(Guid executionId, BackgroundExecution execution, CancellationToken stoppingToken, CancellationToken stoppedToken, CancellationToken shutdownToken)
   at Hangfire.Server.BackgroundProcessingServer.RunServer(Guid executionId, Object state)
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:04:39 +01:00 Request starting HTTP/1.1 POST http://localhost:59791/api/User/Login application/json;odata.metadata=minimal;odata.streaming=true 79
03/03/2023 15:04:39 +01:00 CORS policy execution successful.
03/03/2023 15:04:39 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
03/03/2023 15:04:39 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:04:39 +01:00 info
03/03/2023 15:04:53 +01:00 An error occurred using the connection to database '"SurveyDb"' on server '"127.0.0.1"'.
03/03/2023 15:04:54 +01:00 An exception occurred while iterating over the results of a query for context type '"InternalSurvey.Api.Data.ApplicationDbContext"'."
""Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000"
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:04:54 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 14907.085ms
03/03/2023 15:04:54 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
03/03/2023 15:04:54 +01:00 HTTP "POST" "/api/User/Login" responded 500 in 14969.1476 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at InternalSurvey.Api.Controllers.UserController.Login(LoginUserDto model) in /Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api/Controllers/UserController.cs:line 60
   at lambda_method13(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:04:54 +01:00 Connection id ""0HMORTVKN7KDF"", Request id ""0HMORTVKN7KDF:00000001"": An unhandled exception was thrown by the application.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server: Could not open a connection to SQL Server)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at InternalSurvey.Api.Controllers.UserController.Login(LoginUserDto model) in /Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api/Controllers/UserController.cs:line 60
   at lambda_method13(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
ClientConnectionId:00000000-0000-0000-0000-000000000000
03/03/2023 15:04:54 +01:00 Request finished HTTP/1.1 POST http://localhost:59791/api/User/Login application/json;odata.metadata=minimal;odata.streaming=true 79 - 500 0 - 14982.4074ms
03/03/2023 15:07:33 +01:00 Executed DbCommand ("493"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""CREATE DATABASE [SurveyDb];"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("184"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [SurveyDb] SET READ_COMMITTED_SNAPSHOT ON;
END;"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
03/03/2023 15:07:33 +01:00 Applying migration '"20200916091934_InitialCreate"'.
03/03/2023 15:07:33 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916091934_InitialCreate', N'7.0.3');"
03/03/2023 15:07:33 +01:00 Applying migration '"20200916135823_Entities"'.
03/03/2023 15:07:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Questions] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    [Options] nvarchar(max) NULL,
    [QuestionType] int NOT NULL,
    CONSTRAINT [PK_Questions] PRIMARY KEY ([Id])
);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Respondents] (
    [Id] int NOT NULL IDENTITY,
    [Email] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Respondents] PRIMARY KEY ([Id])
);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [Email] nvarchar(max) NOT NULL,
    [Password] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Surveys] (
    [Id] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [EndDate] datetime2 NOT NULL,
    [UserId] int NOT NULL,
    CONSTRAINT [PK_Surveys] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Surveys_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE
);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [QuestionOrders] (
    [Id] int NOT NULL IDENTITY,
    [QuestionId] int NOT NULL,
    [SurveyId] int NOT NULL,
    [Order] int NOT NULL,
    CONSTRAINT [PK_QuestionOrders] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_QuestionOrders_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_QuestionOrders_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResponses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [HasVoted] bit NOT NULL,
    CONSTRAINT [PK_SurveyResponses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResponses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_SurveyResponses_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Responses] (
    [Id] int NOT NULL IDENTITY,
    [SurveyResponseId] int NOT NULL,
    [QuestionId] int NOT NULL,
    [Answer] nvarchar(max) NULL,
    CONSTRAINT [PK_Responses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Responses_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId] FOREIGN KEY ([SurveyResponseId]) REFERENCES [SurveyResponses] ([Id]) ON DELETE CASCADE
);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [Email])
VALUES (1, N'rei.xhiani@atis.al'),
(2, N'nexhip.alimadhi@atis.al'),
(3, N'lidia.dishnica@atis.al');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Email') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] ON;
INSERT INTO [Users] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FirstName], [LastName], [ModifiedBy], [ModifiedOn], [Password])
VALUES (1, 1, '2020-09-16T15:58:23.0343274+02:00', NULL, NULL, N'atisadmin@atis.al', N'Atis', N'Admin', NULL, NULL, N'1234');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'FirstName', N'LastName', N'ModifiedBy', N'ModifiedOn', N'Password') AND [object_id] = OBJECT_ID(N'[Users]'))
    SET IDENTITY_INSERT [Users] OFF;"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_QuestionId] ON [QuestionOrders] ([QuestionId]);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_QuestionOrders_SurveyId] ON [QuestionOrders] ([SurveyId]);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_QuestionId] ON [Responses] ([QuestionId]);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResponseId] ON [Responses] ([SurveyResponseId]);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_RespondentId] ON [SurveyResponses] ([RespondentId]);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResponses_SurveyId] ON [SurveyResponses] ([SurveyId]);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_UserId] ON [Surveys] ([UserId]);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200916135823_Entities', N'7.0.3');"
03/03/2023 15:07:33 +01:00 Applying migration '"20200917094757_addEntityModification"'.
03/03/2023 15:07:33 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_Questions_QuestionId];"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResponses_SurveyResponseId];"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResponses];"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_QuestionId] ON [Responses];"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResponseId] ON [Responses];"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'Answer');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Responses] DROP COLUMN [Answer];"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'QuestionId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Responses] DROP COLUMN [QuestionId];"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResponseId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResponseId];"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'Options');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Questions] DROP COLUMN [Options];"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [Other] nvarchar(max) NULL;"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [RespondentId] int NOT NULL DEFAULT 0;"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyQuestionOptionsId] int NOT NULL DEFAULT 0;"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyQuestionOptions] (
    [Id] int NOT NULL IDENTITY,
    [Option] nvarchar(max) NULL,
    [QuestionOrderId] int NOT NULL,
    CONSTRAINT [PK_SurveyQuestionOptions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId] FOREIGN KEY ([QuestionOrderId]) REFERENCES [QuestionOrders] ([Id]) ON DELETE CASCADE
);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:47:56.9588654+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_RespondentId] ON [Responses] ([RespondentId]);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyQuestionOptionsId] ON [Responses] ([SurveyQuestionOptionsId]);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions] ([QuestionOrderId]);"
03/03/2023 15:07:33 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyQuestionOptions_SurveyQuestionOptionsId] FOREIGN KEY ([SurveyQuestionOptionsId]) REFERENCES [SurveyQuestionOptions] ([Id]) ON DELETE CASCADE;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917094757_addEntityModification', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20200917095045_Entities2"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T11:50:44.8230684+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917095045_Entities2', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20200917135857_AddedBaseEntityInRespondent"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedBy] int NOT NULL DEFAULT 0;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [CreatedOn] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedBy] int NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [DeletedOn] datetime2 NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedBy] int NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Respondents] ADD [ModifiedOn] datetime2 NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-17T15:58:57.0252736+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200917135857_AddedBaseEntityInRespondent', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20200918121505_EntitiesNewProperty"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [StartDate] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NOT NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [DeletedOn] datetime2 NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [DeletedOn] datetime2 NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [QuestionOrders] ADD [DeletedOn] datetime2 NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [Users] SET [CreatedOn] = '2020-09-18T14:15:05.2631694+02:00'
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200918121505_EntitiesNewProperty', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20200919211010_AddAspNetUsersToDb"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] DROP CONSTRAINT [FK_Surveys_Users_UserId];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [Users];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Surveys_UserId] ON [Surveys];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 1;
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 2;
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DELETE FROM [Respondents]
WHERE [Id] = 3;
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [AspNetUsersId] nvarchar(450) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] int NOT NULL,
    [ModifiedBy] int NULL,
    [DeletedBy] int NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [FirstName] nvarchar(max) NULL,
    [LastName] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserLogins] (
    [Id] int NOT NULL IDENTITY,
    [LoginProvider] nvarchar(128) NULL,
    [ProviderKey] nvarchar(128) NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserTokens] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NULL,
    [LoginProvider] nvarchar(128) NULL,
    [Name] nvarchar(128) NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION
);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Surveys_AspNetUsersId] ON [Surveys] ([AspNetUsersId]);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserTokens_UserId] ON [AspNetUserTokens] ([UserId]);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD CONSTRAINT [FK_Surveys_AspNetUsers_AspNetUsersId] FOREIGN KEY ([AspNetUsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200919211010_AddAspNetUsersToDb', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20200920221845_ChangeBaseEntity"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'ModifiedBy');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'DeletedBy');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'CreatedBy');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'ModifiedBy');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'DeletedBy');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Respondents]') AND [c].[name] = N'CreatedBy');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [Respondents] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [Respondents] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'ModifiedBy');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [Questions] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'DeletedBy');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [Questions] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var13 sysname;
SELECT @var13 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Questions]') AND [c].[name] = N'CreatedBy');
IF @var13 IS NOT NULL EXEC(N'ALTER TABLE [Questions] DROP CONSTRAINT [' + @var13 + '];');
ALTER TABLE [Questions] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var14 sysname;
SELECT @var14 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'ModifiedBy');
IF @var14 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var14 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [ModifiedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var15 sysname;
SELECT @var15 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'DeletedBy');
IF @var15 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var15 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [DeletedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var16 sysname;
SELECT @var16 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'CreatedBy');
IF @var16 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var16 + '];');
ALTER TABLE [AspNetUsers] ALTER COLUMN [CreatedBy] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200920221845_ChangeBaseEntity', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20200921125414_SeedUserData"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921125414_SeedUserData', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20200921130101_SeedUData"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [ModifiedBy], [ModifiedOn], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (N'a4c95d33-b702-499c-b436-621e786e7518', 0, NULL, N'atisadmin@atis.al', '2020-09-21T15:01:01.5661250+02:00', NULL, NULL, N'atisadmin@atis.al', CAST(0 AS bit), N'Atis', N'Admin', CAST(0 AS bit), NULL, NULL, NULL, NULL, NULL, N'Admin123*', NULL, CAST(0 AS bit), NULL, CAST(0 AS bit), NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AccessFailedCount', N'ConcurrencyStamp', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'EmailConfirmed', N'FirstName', N'LastName', N'LockoutEnabled', N'LockoutEnd', N'ModifiedBy', N'ModifiedOn', N'NormalizedEmail', N'NormalizedUserName', N'PasswordHash', N'PhoneNumber', N'PhoneNumberConfirmed', N'SecurityStamp', N'TwoFactorEnabled', N'UserName') AND [object_id] = OBJECT_ID(N'[AspNetUsers]'))
    SET IDENTITY_INSERT [AspNetUsers] OFF;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] ON;
INSERT INTO [Respondents] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
VALUES (1, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'rei.xhiani@atis.al', NULL, NULL),
(2, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'nexhip.alimadhi@atis.al', NULL, NULL),
(3, NULL, '0001-01-01T00:00:00.0000000', NULL, NULL, N'lidia.dishnica@atis.al', NULL, NULL);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'CreatedOn', N'DeletedBy', N'DeletedOn', N'Email', N'ModifiedBy', N'ModifiedOn') AND [object_id] = OBJECT_ID(N'[Respondents]'))
    SET IDENTITY_INSERT [Respondents] OFF;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200921130101_SeedUData', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20200928083401_NewAttributeSurvey"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [FK_SurveyQuestionOptions_QuestionOrders_QuestionOrderId];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [QuestionOrders];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_SurveyQuestionOptions_QuestionOrderId] ON [SurveyQuestionOptions];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var17 sysname;
SELECT @var17 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'QuestionOrderId');
IF @var17 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var17 + '];');
ALTER TABLE [SurveyQuestionOptions] DROP COLUMN [QuestionOrderId];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [SwitchOffRespondents] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Surveys] ADD [VotingRespondents] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD [QuestionId] int NOT NULL DEFAULT 0;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [Order] int NOT NULL DEFAULT 0;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [SurveyId] int NOT NULL DEFAULT 0;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T10:34:01.2090749+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyQuestionOptions_QuestionId] ON [SurveyQuestionOptions] ([QuestionId]);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Questions_SurveyId] ON [Questions] ([SurveyId]);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD CONSTRAINT [FK_Questions_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [SurveyQuestionOptions] ADD CONSTRAINT [FK_SurveyQuestionOptions_Questions_QuestionId] FOREIGN KEY ([QuestionId]) REFERENCES [Questions] ([Id]) ON DELETE CASCADE;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928083401_NewAttributeSurvey', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20200928144818_NewAttributeQuestion"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [HasOthers] bit NOT NULL DEFAULT CAST(0 AS bit);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-28T16:48:17.7770383+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200928144818_NewAttributeQuestion', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20200930134949_IsRequiredQuestion"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Questions] ADD [IsRequired] bit NOT NULL DEFAULT CAST(0 AS bit);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-09-30T15:49:48.6583417+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20200930134949_IsRequiredQuestion', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20201004100612_AddSurveyResult"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD [SurveyResultId] int NOT NULL DEFAULT 0;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [SurveyResults] (
    [Id] int NOT NULL IDENTITY,
    [SurveyId] int NOT NULL,
    CONSTRAINT [PK_SurveyResults] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_SurveyResults_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id])
);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-04T12:06:12.0626532+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Responses_SurveyResultId] ON [Responses] ([SurveyResultId]);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_SurveyResults_SurveyId] ON [SurveyResults] ([SurveyId]);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] ADD CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId] FOREIGN KEY ([SurveyResultId]) REFERENCES [SurveyResults] ([Id]) ON DELETE CASCADE;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201004100612_AddSurveyResult', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20201007110338_DelTableSurveyResult"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Responses] DROP CONSTRAINT [FK_Responses_SurveyResults_SurveyResultId];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP TABLE [SurveyResults];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Responses_SurveyResultId] ON [Responses];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var18 sysname;
SELECT @var18 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Responses]') AND [c].[name] = N'SurveyResultId');
IF @var18 IS NOT NULL EXEC(N'ALTER TABLE [Responses] DROP CONSTRAINT [' + @var18 + '];');
ALTER TABLE [Responses] DROP COLUMN [SurveyResultId];"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-07T13:03:37.6962785+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201007110338_DelTableSurveyResult', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20201008105847_notRequiredFields"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var19 sysname;
SELECT @var19 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Surveys]') AND [c].[name] = N'StartDate');
IF @var19 IS NOT NULL EXEC(N'ALTER TABLE [Surveys] DROP CONSTRAINT [' + @var19 + '];');
ALTER TABLE [Surveys] ALTER COLUMN [StartDate] datetime2 NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var20 sysname;
SELECT @var20 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[SurveyQuestionOptions]') AND [c].[name] = N'Option');
IF @var20 IS NOT NULL EXEC(N'ALTER TABLE [SurveyQuestionOptions] DROP CONSTRAINT [' + @var20 + '];');
ALTER TABLE [SurveyQuestionOptions] ALTER COLUMN [Option] nvarchar(max) NULL;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [CreatedOn] = '2020-10-08T12:58:46.7099892+02:00'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201008105847_notRequiredFields', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20201021140249_NewMigrationForSeedData"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e4dc78d1-91aa-4d3e-aa17-f244b5e72c63', [CreatedOn] = '2020-10-21T16:02:49.0479290+02:00', [NormalizedEmail] = N'ATISADMIN@ATIS.AL', [NormalizedUserName] = N'ATISADMIN@ATIS.AL', [PasswordHash] = N'AQAAAAEAACcQAAAAEPQsdgJx2Hj+/ZD7pLu/Tu5fJgfZVg/eP9IoLzFjv53wAimbkT18LXrgxncu7aT9BQ==', [SecurityStamp] = N'639ef89c-2917-496c-9a94-e4d43d675c82', [UserName] = N'atisadmin@atis.al'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201021140249_NewMigrationForSeedData', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20201117152919_addComments"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Comments] (
    [CommentId] int NOT NULL IDENTITY,
    [CreatedOn] datetime2 NOT NULL,
    [ModifiedOn] datetime2 NULL,
    [DeletedOn] datetime2 NULL,
    [CreatedBy] nvarchar(max) NULL,
    [ModifiedBy] nvarchar(max) NULL,
    [DeletedBy] nvarchar(max) NULL,
    [SurveyId] int NOT NULL,
    [RespondentId] int NOT NULL,
    [CommnetText] nvarchar(max) NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([CommentId]),
    CONSTRAINT [FK_Comments_Respondents_RespondentId] FOREIGN KEY ([RespondentId]) REFERENCES [Respondents] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Comments_Surveys_SurveyId] FOREIGN KEY ([SurveyId]) REFERENCES [Surveys] ([Id]) ON DELETE CASCADE
);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'023168dc-35d5-45de-b757-62f544cb6a92', [CreatedOn] = '2020-11-17T16:29:18.6744638+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAEMpfhd+NM76ChIN4Kpb27ECxxURQ5HggRhfqEWy022NwP61xZT6KAvAYT08oSsks0w==', [SecurityStamp] = N'23b1a109-bf36-4e7a-8f40-dd7762341d49'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_RespondentId] ON [Comments] ([RespondentId]);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_SurveyId] ON [Comments] ([SurveyId]);"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117152919_addComments', N'7.0.3');"
03/03/2023 15:07:34 +01:00 Applying migration '"20201117153042_addComment"'.
03/03/2023 15:07:34 +01:00 Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""UPDATE [AspNetUsers] SET [ConcurrencyStamp] = N'e6deaa16-34ee-45fb-b219-c608da67caa6', [CreatedOn] = '2020-11-17T16:30:42.1671059+01:00', [PasswordHash] = N'AQAAAAEAACcQAAAAENl767SDv10vi7qn8FQl66v1qYw/LBX6BM1aEsAN4UmbI7nEQPecqg9MuK+7RgMfRA==', [SecurityStamp] = N'30c126a7-876b-4998-bdee-84d92d4925fd'
WHERE [Id] = N'a4c95d33-b702-499c-b436-621e786e7518';
SELECT @@ROWCOUNT;"
03/03/2023 15:07:34 +01:00 Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20201117153042_addComment', N'7.0.3');"
03/03/2023 15:33:04 +01:00 Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:33:04 +01:00 Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:33:04 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:33:04 +01:00 Executed DbCommand ("55"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:33:04 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
03/03/2023 15:33:04 +01:00 No migrations were applied. The database is already up to date.
03/03/2023 15:33:05 +01:00 Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:33:05 +01:00 Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:33:05 +01:00 Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:33:05 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:33:05 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
03/03/2023 15:33:05 +01:00 No migrations were applied. The database is already up to date.
03/03/2023 15:33:05 +01:00 Start installing Hangfire SQL objects...
03/03/2023 15:33:05 +01:00 Hangfire SQL objects installed.
03/03/2023 15:33:05 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
03/03/2023 15:33:05 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
03/03/2023 15:33:05 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
03/03/2023 15:33:05 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
03/03/2023 15:33:05 +01:00 Server f5df9f98-32f4-44c3-b4f1-5c83c56ac8c6 successfully announced in 82,919 ms
03/03/2023 15:33:05 +01:00 Server f5df9f98-32f4-44c3-b4f1-5c83c56ac8c6 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
03/03/2023 15:33:05 +01:00 Server f5df9f98-32f4-44c3-b4f1-5c83c56ac8c6 all the dispatchers started
03/03/2023 15:33:06 +01:00 Now listening on: "https://localhost:7152"
03/03/2023 15:33:06 +01:00 Now listening on: "http://localhost:5105"
03/03/2023 15:33:06 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
03/03/2023 15:33:06 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
03/03/2023 15:33:06 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
03/03/2023 15:33:06 +01:00 Application started. Press Ctrl+C to shut down.
03/03/2023 15:33:06 +01:00 Hosting environment: "Development"
03/03/2023 15:33:06 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
03/03/2023 15:33:06 +01:00 Server 9aa649b8-0184-46fd-986f-9e659ced0e65 successfully announced in 33,1435 ms
03/03/2023 15:33:06 +01:00 Server 9aa649b8-0184-46fd-986f-9e659ced0e65 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
03/03/2023 15:33:07 +01:00 Server 9aa649b8-0184-46fd-986f-9e659ced0e65 all the dispatchers started
03/03/2023 15:33:07 +01:00 Request starting HTTP/1.1 GET https://localhost:7152/ - -
03/03/2023 15:33:07 +01:00 HTTP "GET" "/" responded 301 in 7.8262 ms
03/03/2023 15:33:07 +01:00 Request finished HTTP/1.1 GET https://localhost:7152/ - - - 301 0 - 14.8596ms
03/03/2023 15:33:07 +01:00 Request starting HTTP/1.1 GET https://localhost:7152/index.html - -
03/03/2023 15:33:07 +01:00 HTTP "GET" "/index.html" responded 200 in 33.8493 ms
03/03/2023 15:33:07 +01:00 Request finished HTTP/1.1 GET https://localhost:7152/index.html - - - 200 - text/html;charset=utf-8 34.4142ms
03/03/2023 15:33:07 +01:00 Request starting HTTP/1.1 GET https://localhost:7152/swagger-ui.css - -
03/03/2023 15:33:07 +01:00 Request starting HTTP/1.1 GET https://localhost:7152/swagger-ui-bundle.js - -
03/03/2023 15:33:07 +01:00 Request starting HTTP/1.1 GET https://localhost:7152/swagger-ui-standalone-preset.js - -
03/03/2023 15:33:08 +01:00 Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
03/03/2023 15:33:08 +01:00 Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
03/03/2023 15:33:08 +01:00 HTTP "GET" "/swagger-ui.css" responded 200 in 175.9766 ms
03/03/2023 15:33:08 +01:00 HTTP "GET" "/swagger-ui-standalone-preset.js" responded 200 in 137.1304 ms
03/03/2023 15:33:08 +01:00 Request finished HTTP/1.1 GET https://localhost:7152/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 139.0326ms
03/03/2023 15:33:08 +01:00 Request finished HTTP/1.1 GET https://localhost:7152/swagger-ui.css - - - 200 144929 text/css 177.8201ms
03/03/2023 15:33:08 +01:00 Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
03/03/2023 15:33:08 +01:00 HTTP "GET" "/swagger-ui-bundle.js" responded 200 in 174.3455 ms
03/03/2023 15:33:08 +01:00 Request finished HTTP/1.1 GET https://localhost:7152/swagger-ui-bundle.js - - - 200 1061536 text/javascript 174.7859ms
03/03/2023 15:33:08 +01:00 Request starting HTTP/1.1 GET https://localhost:7152/swagger/v1.0/swagger.json - -
03/03/2023 15:33:08 +01:00 Request starting HTTP/1.1 GET https://localhost:7152/favicon-32x32.png - -
03/03/2023 15:33:08 +01:00 Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
03/03/2023 15:33:08 +01:00 HTTP "GET" "/favicon-32x32.png" responded 200 in 0.1883 ms
03/03/2023 15:33:08 +01:00 Request finished HTTP/1.1 GET https://localhost:7152/favicon-32x32.png - - - 200 628 image/png 0.3733ms
03/03/2023 15:33:08 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 149.1279 ms
03/03/2023 15:33:08 +01:00 Request finished HTTP/1.1 GET https://localhost:7152/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 149.4325ms
03/03/2023 15:39:17 +01:00 Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:39:17 +01:00 Executed DbCommand ("92"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:39:17 +01:00 Executed DbCommand ("54"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:39:17 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:39:17 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
03/03/2023 15:39:17 +01:00 No migrations were applied. The database is already up to date.
03/03/2023 15:39:17 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:39:17 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:39:17 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:39:17 +01:00 Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:39:17 +01:00 Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
03/03/2023 15:39:17 +01:00 No migrations were applied. The database is already up to date.
03/03/2023 15:39:17 +01:00 Start installing Hangfire SQL objects...
03/03/2023 15:39:17 +01:00 Hangfire SQL objects installed.
03/03/2023 15:39:17 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
03/03/2023 15:39:17 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
03/03/2023 15:39:17 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
03/03/2023 15:39:17 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
03/03/2023 15:39:18 +01:00 Server b67f2085-6014-4f90-b4ee-4605aa13fd67 successfully announced in 74,5783 ms
03/03/2023 15:39:18 +01:00 Server b67f2085-6014-4f90-b4ee-4605aa13fd67 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
03/03/2023 15:39:18 +01:00 Server b67f2085-6014-4f90-b4ee-4605aa13fd67 all the dispatchers started
03/03/2023 15:39:18 +01:00 Now listening on: "https://localhost:44316"
03/03/2023 15:39:18 +01:00 Now listening on: "http://localhost:5105"
03/03/2023 15:39:18 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
03/03/2023 15:39:18 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
03/03/2023 15:39:18 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
03/03/2023 15:39:18 +01:00 Application started. Press Ctrl+C to shut down.
03/03/2023 15:39:18 +01:00 Hosting environment: "Development"
03/03/2023 15:39:18 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
03/03/2023 15:39:18 +01:00 Server 617898b0-7743-4051-9d7a-29ee7284989e successfully announced in 10,5685 ms
03/03/2023 15:39:18 +01:00 Server 617898b0-7743-4051-9d7a-29ee7284989e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
03/03/2023 15:39:19 +01:00 Server 617898b0-7743-4051-9d7a-29ee7284989e all the dispatchers started
03/03/2023 15:39:20 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/ - -
03/03/2023 15:39:20 +01:00 HTTP "GET" "/" responded 301 in 7.6118 ms
03/03/2023 15:39:20 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/ - - - 301 0 - 13.7400ms
03/03/2023 15:39:20 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/index.html - -
03/03/2023 15:39:20 +01:00 HTTP "GET" "/index.html" responded 200 in 33.1239 ms
03/03/2023 15:39:20 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/index.html - - - 200 - text/html;charset=utf-8 33.7445ms
03/03/2023 15:39:20 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/swagger-ui-bundle.js - -
03/03/2023 15:39:20 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/swagger-ui.css - -
03/03/2023 15:39:20 +01:00 Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
03/03/2023 15:39:20 +01:00 HTTP "GET" "/swagger-ui.css" responded 200 in 10.4895 ms
03/03/2023 15:39:20 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/swagger-ui.css - - - 200 144929 text/css 11.2255ms
03/03/2023 15:39:20 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/swagger-ui-standalone-preset.js - -
03/03/2023 15:39:20 +01:00 Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
03/03/2023 15:39:20 +01:00 HTTP "GET" "/swagger-ui-standalone-preset.js" responded 200 in 263.4351 ms
03/03/2023 15:39:20 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 264.6471ms
03/03/2023 15:39:20 +01:00 Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
03/03/2023 15:39:20 +01:00 HTTP "GET" "/swagger-ui-bundle.js" responded 200 in 289.9608 ms
03/03/2023 15:39:20 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/swagger-ui-bundle.js - - - 200 1061536 text/javascript 290.7957ms
03/03/2023 15:39:20 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/swagger/v1.0/swagger.json - -
03/03/2023 15:39:20 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/favicon-32x32.png - -
03/03/2023 15:39:20 +01:00 Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
03/03/2023 15:39:20 +01:00 HTTP "GET" "/favicon-32x32.png" responded 200 in 0.2283 ms
03/03/2023 15:39:20 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/favicon-32x32.png - - - 200 628 image/png 0.4543ms
03/03/2023 15:39:20 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 136.7378 ms
03/03/2023 15:39:20 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 137.0587ms
03/03/2023 15:40:33 +01:00 Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:40:33 +01:00 Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:40:33 +01:00 Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:40:33 +01:00 Executed DbCommand ("36"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:40:33 +01:00 Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
03/03/2023 15:40:33 +01:00 No migrations were applied. The database is already up to date.
03/03/2023 15:40:33 +01:00 Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:40:33 +01:00 Executed DbCommand ("54"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:40:33 +01:00 Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
03/03/2023 15:40:33 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
03/03/2023 15:40:33 +01:00 Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
03/03/2023 15:40:33 +01:00 No migrations were applied. The database is already up to date.
03/03/2023 15:40:33 +01:00 Start installing Hangfire SQL objects...
03/03/2023 15:40:34 +01:00 Hangfire SQL objects installed.
03/03/2023 15:40:34 +01:00 User profile is available. Using '"/Users/lidiadishnica/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest.
03/03/2023 15:40:34 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
03/03/2023 15:40:34 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
03/03/2023 15:40:34 +01:00 Using the following options for Hangfire Server:
    Worker count: 1
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
03/03/2023 15:40:34 +01:00 Server 9691719c-5d78-45c5-9986-fcb928e5746c successfully announced in 75,0741 ms
03/03/2023 15:40:34 +01:00 Server 9691719c-5d78-45c5-9986-fcb928e5746c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
03/03/2023 15:40:34 +01:00 Server 9691719c-5d78-45c5-9986-fcb928e5746c all the dispatchers started
03/03/2023 15:40:35 +01:00 Now listening on: "https://localhost:44316"
03/03/2023 15:40:35 +01:00 Now listening on: "http://localhost:5105"
03/03/2023 15:40:35 +01:00 Starting Hangfire Server using job storage: 'SQL Server: 127.0.0.1@SurveyDb'
03/03/2023 15:40:35 +01:00 Using the following options for SQL Server job storage: Queue poll interval: 00:00:30.
03/03/2023 15:40:35 +01:00 Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
03/03/2023 15:40:35 +01:00 Server 1a4a9180-b5c1-41f1-a07c-8354ec1e7b08 successfully announced in 36,1589 ms
03/03/2023 15:40:35 +01:00 Server 1a4a9180-b5c1-41f1-a07c-8354ec1e7b08 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
03/03/2023 15:40:35 +01:00 Application started. Press Ctrl+C to shut down.
03/03/2023 15:40:35 +01:00 Hosting environment: "Development"
03/03/2023 15:40:35 +01:00 Content root path: "/Users/lidiadishnica/survey-be/InternalSurvey.Api/InternalSurvey.Api"
03/03/2023 15:40:35 +01:00 Server 1a4a9180-b5c1-41f1-a07c-8354ec1e7b08 all the dispatchers started
03/03/2023 15:40:36 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/index.html - -
03/03/2023 15:40:36 +01:00 HTTP "GET" "/index.html" responded 200 in 40.5304 ms
03/03/2023 15:40:36 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/index.html - - - 200 - text/html;charset=utf-8 47.6617ms
03/03/2023 15:40:36 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/swagger/v1.0/swagger.json - -
03/03/2023 15:40:37 +01:00 HTTP "GET" "/swagger/v1.0/swagger.json" responded 200 in 151.9671 ms
03/03/2023 15:40:37 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/swagger/v1.0/swagger.json - - - 200 - application/json;charset=utf-8 152.7052ms
03/03/2023 15:40:55 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetUser - -
03/03/2023 15:40:55 +01:00 CORS policy execution successful.
03/03/2023 15:40:55 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetUser - - - 204 - - 7.1657ms
03/03/2023 15:40:55 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/User/GetUser - -
03/03/2023 15:40:55 +01:00 CORS policy execution successful.
03/03/2023 15:40:55 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/survey/GetAllPublished - -
03/03/2023 15:40:55 +01:00 CORS policy execution successful.
03/03/2023 15:40:55 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/survey/GetAllPublished - - - 204 - - 0.3853ms
03/03/2023 15:40:55 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/survey/GetAllPublished - -
03/03/2023 15:40:55 +01:00 CORS policy execution successful.
03/03/2023 15:40:55 +01:00 Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '28/02/2023 09:28:14', Current time: '03/03/2023 14:40:55'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
03/03/2023 15:40:55 +01:00 Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '28/02/2023 09:28:14', Current time: '03/03/2023 14:40:55'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
03/03/2023 15:40:55 +01:00 "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '28/02/2023 09:28:14', Current time: '03/03/2023 14:40:55'."
03/03/2023 15:40:55 +01:00 "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '28/02/2023 09:28:14', Current time: '03/03/2023 14:40:55'."
03/03/2023 15:40:55 +01:00 Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
03/03/2023 15:40:55 +01:00 Authorization failed. "These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user."
03/03/2023 15:40:55 +01:00 AuthenticationScheme: "Bearer" was challenged.
03/03/2023 15:40:55 +01:00 AuthenticationScheme: "Bearer" was challenged.
03/03/2023 15:40:55 +01:00 HTTP "GET" "/api/User/GetUser" responded 401 in 151.2335 ms
03/03/2023 15:40:55 +01:00 HTTP "GET" "/api/survey/GetAllPublished" responded 401 in 139.8092 ms
03/03/2023 15:40:55 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/survey/GetAllPublished - - - 401 0 - 140.1637ms
03/03/2023 15:40:55 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/User/GetUser - - - 401 0 - 152.5155ms
03/03/2023 15:41:29 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/Login - -
03/03/2023 15:41:29 +01:00 CORS policy execution successful.
03/03/2023 15:41:29 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/Login - - - 204 - - 4.5834ms
03/03/2023 15:41:29 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/Login - -
03/03/2023 15:41:29 +01:00 CORS policy execution successful.
03/03/2023 15:41:29 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/Login - - - 204 - - 0.4688ms
03/03/2023 15:41:29 +01:00 Request starting HTTP/1.1 POST https://localhost:44316/api/User/Login application/json 52
03/03/2023 15:41:29 +01:00 CORS policy execution successful.
03/03/2023 15:41:29 +01:00 Request starting HTTP/1.1 POST https://localhost:44316/api/User/Login application/json 52
03/03/2023 15:41:29 +01:00 CORS policy execution successful.
03/03/2023 15:41:29 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
03/03/2023 15:41:29 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
03/03/2023 15:41:29 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:41:29 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:41:29 +01:00 info
03/03/2023 15:41:29 +01:00 info
03/03/2023 15:41:30 +01:00 Executed DbCommand ("45"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
03/03/2023 15:41:30 +01:00 Executed DbCommand ("86"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
03/03/2023 15:41:30 +01:00 Executed DbCommand ("35"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
03/03/2023 15:41:30 +01:00 Executed DbCommand ("35"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
03/03/2023 15:41:30 +01:00 Executed DbCommand ("26"ms) [Parameters=["@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedBy] = @p2, [CreatedOn] = @p3, [DeletedBy] = @p4, [DeletedOn] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [ModifiedBy] = @p12, [ModifiedOn] = @p13, [NormalizedEmail] = @p14, [NormalizedUserName] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;"
03/03/2023 15:41:30 +01:00 Executed DbCommand ("49"ms) [Parameters=["@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p23='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedBy] = @p2, [CreatedOn] = @p3, [DeletedBy] = @p4, [DeletedOn] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [ModifiedBy] = @p12, [ModifiedOn] = @p13, [NormalizedEmail] = @p14, [NormalizedUserName] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;"
03/03/2023 15:41:30 +01:00 An exception occurred in the database while saving changes for context type '"InternalSurvey.Api.Data.ApplicationDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
03/03/2023 15:41:30 +01:00 Executed DbCommand ("73"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
03/03/2023 15:41:30 +01:00 Executed DbCommand ("95"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
03/03/2023 15:41:30 +01:00 AuthenticationScheme: "Identity.Application" signed in.
03/03/2023 15:41:30 +01:00 AuthenticationScheme: "Identity.Application" signed in.
03/03/2023 15:41:30 +01:00 Executed DbCommand ("17"ms) [Parameters=["@__model_Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__model_Email_0"
03/03/2023 15:41:30 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Controllers.UserController+LoginResponse"'.
03/03/2023 15:41:30 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 757.6469ms
03/03/2023 15:41:30 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
03/03/2023 15:41:30 +01:00 HTTP "POST" "/api/User/Login" responded 200 in 785.0306 ms
03/03/2023 15:41:30 +01:00 Request finished HTTP/1.1 POST https://localhost:44316/api/User/Login application/json 52 - 200 659 application/json;+charset=utf-8 787.0270ms
03/03/2023 15:41:30 +01:00 Executed DbCommand ("77"ms) [Parameters=["@__model_Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__model_Email_0"
03/03/2023 15:41:30 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Controllers.UserController+LoginResponse"'.
03/03/2023 15:41:30 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 809.1255ms
03/03/2023 15:41:30 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
03/03/2023 15:41:30 +01:00 HTTP "POST" "/api/User/Login" responded 200 in 829.9955 ms
03/03/2023 15:41:30 +01:00 Request finished HTTP/1.1 POST https://localhost:44316/api/User/Login application/json 52 - 200 659 application/json;+charset=utf-8 830.3155ms
03/03/2023 15:41:30 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetUser - -
03/03/2023 15:41:30 +01:00 CORS policy execution successful.
03/03/2023 15:41:30 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetUser - - - 204 - - 0.2706ms
03/03/2023 15:41:30 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/survey/GetAllPublished - -
03/03/2023 15:41:30 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/User/GetUser - -
03/03/2023 15:41:30 +01:00 CORS policy execution successful.
03/03/2023 15:41:30 +01:00 CORS policy execution successful.
03/03/2023 15:41:30 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/survey/GetAllPublished - - - 204 - - 0.2573ms
03/03/2023 15:41:30 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/survey/GetAllPublished - -
03/03/2023 15:41:30 +01:00 CORS policy execution successful.
03/03/2023 15:41:30 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
03/03/2023 15:41:30 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
03/03/2023 15:41:30 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:41:30 +01:00 Route matched with "{action = \"GetSurveysPublished\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveysPublished(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
03/03/2023 15:41:30 +01:00 Executed DbCommand ("23"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
03/03/2023 15:41:30 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
03/03/2023 15:41:30 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 67.821ms
03/03/2023 15:41:30 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
03/03/2023 15:41:30 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 103.2630 ms
03/03/2023 15:41:30 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/User/GetUser - - - 200 153 application/json;+charset=utf-8 103.6263ms
03/03/2023 15:41:30 +01:00 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
03/03/2023 15:41:31 +01:00 Executed DbCommand ("35"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE ([s].[DeletedOn] IS NULL) AND ([s].[StartDate] IS NOT NULL)
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
03/03/2023 15:41:31 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:41:31 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)" in 245.2485ms
03/03/2023 15:41:31 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
03/03/2023 15:41:31 +01:00 HTTP "GET" "/api/survey/GetAllPublished" responded 200 in 256.6186 ms
03/03/2023 15:41:31 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/survey/GetAllPublished - - - 200 56 application/json;+charset=utf-8 256.8912ms
03/03/2023 15:41:33 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - -
03/03/2023 15:41:33 +01:00 CORS policy execution successful.
03/03/2023 15:41:33 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - - - 204 - - 1.1021ms
03/03/2023 15:41:33 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - -
03/03/2023 15:41:33 +01:00 CORS policy execution successful.
03/03/2023 15:41:33 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
03/03/2023 15:41:33 +01:00 Route matched with "{action = \"GetUsers\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.UserDto]]] GetUsers(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.AspNetUsers])" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:41:33 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]"
03/03/2023 15:41:33 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.UserDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:41:33 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)" in 161.3846ms
03/03/2023 15:41:33 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
03/03/2023 15:41:33 +01:00 HTTP "GET" "/api/User/GetAll" responded 200 in 167.1158 ms
03/03/2023 15:41:33 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - - - 200 210 application/json;+charset=utf-8 167.9022ms
03/03/2023 15:41:58 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/Register - -
03/03/2023 15:41:58 +01:00 CORS policy execution successful.
03/03/2023 15:41:58 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/Register - - - 204 - - 0.5219ms
03/03/2023 15:41:58 +01:00 Request starting HTTP/1.1 POST https://localhost:44316/api/User/Register application/json 133
03/03/2023 15:41:58 +01:00 CORS policy execution successful.
03/03/2023 15:41:58 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Register (InternalSurvey.Api)"'
03/03/2023 15:41:58 +01:00 Route matched with "{action = \"Register\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(InternalSurvey.Api.Dtos.RegisterUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:41:58 +01:00 Executed DbCommand ("33"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
03/03/2023 15:41:58 +01:00 Executed DbCommand ("16"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 256), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [ModifiedBy], [ModifiedOn], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22);"
03/03/2023 15:41:58 +01:00 Executed DbCommand ("57"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
03/03/2023 15:41:58 +01:00 AuthenticationScheme: "Identity.Application" signed in.
03/03/2023 15:41:58 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
03/03/2023 15:41:58 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Register (InternalSurvey.Api)" in 280.9459ms
03/03/2023 15:41:58 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Register (InternalSurvey.Api)"'
03/03/2023 15:41:58 +01:00 HTTP "POST" "/api/User/Register" responded 200 in 290.4569 ms
03/03/2023 15:41:58 +01:00 Request finished HTTP/1.1 POST https://localhost:44316/api/User/Register application/json 133 - 200 55 application/json;+charset=utf-8 290.8387ms
03/03/2023 15:41:58 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - -
03/03/2023 15:41:58 +01:00 CORS policy execution successful.
03/03/2023 15:41:58 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - - - 204 - - 0.2357ms
03/03/2023 15:41:58 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - -
03/03/2023 15:41:58 +01:00 CORS policy execution successful.
03/03/2023 15:41:58 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
03/03/2023 15:41:58 +01:00 Route matched with "{action = \"GetUsers\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.UserDto]]] GetUsers(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.AspNetUsers])" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:41:59 +01:00 Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]"
03/03/2023 15:41:59 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.UserDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:41:59 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)" in 32.7767ms
03/03/2023 15:41:59 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
03/03/2023 15:41:59 +01:00 HTTP "GET" "/api/User/GetAll" responded 200 in 33.5902 ms
03/03/2023 15:41:59 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - - - 200 377 application/json;+charset=utf-8 33.8847ms
03/03/2023 15:42:04 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:42:04 +01:00 CORS policy execution successful.
03/03/2023 15:42:04 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.3488ms
03/03/2023 15:42:04 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:42:04 +01:00 CORS policy execution successful.
03/03/2023 15:42:04 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:04 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:04 +01:00 Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
03/03/2023 15:42:04 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:42:04 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 97.7772ms
03/03/2023 15:42:04 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:04 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 104.0983 ms
03/03/2023 15:42:04 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 200 179 application/json;+charset=utf-8 104.6264ms
03/03/2023 15:42:07 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/Delete/2 - -
03/03/2023 15:42:07 +01:00 CORS policy execution successful.
03/03/2023 15:42:07 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/Delete/2 - - - 204 - - 0.5071ms
03/03/2023 15:42:07 +01:00 Request starting HTTP/1.1 DELETE https://localhost:44316/api/respondent/Delete/2 application/json 10
03/03/2023 15:42:07 +01:00 CORS policy execution successful.
03/03/2023 15:42:07 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
03/03/2023 15:42:07 +01:00 Route matched with "{action = \"DeleteRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteRespondent(Int32)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:07 +01:00 Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[Id] = @__p_0"
03/03/2023 15:42:07 +01:00 Executed DbCommand ("42"ms) [Parameters=["@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Respondents] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [DeletedBy] = @p2, [DeletedOn] = @p3, [Email] = @p4, [ModifiedBy] = @p5, [ModifiedOn] = @p6
OUTPUT 1
WHERE [Id] = @p7;"
03/03/2023 15:42:07 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
03/03/2023 15:42:07 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)" in 100.7634ms
03/03/2023 15:42:07 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
03/03/2023 15:42:07 +01:00 HTTP "DELETE" "/api/respondent/Delete/2" responded 200 in 106.6890 ms
03/03/2023 15:42:07 +01:00 Request finished HTTP/1.1 DELETE https://localhost:44316/api/respondent/Delete/2 application/json 10 - 200 53 application/json;+charset=utf-8 107.0495ms
03/03/2023 15:42:07 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:42:07 +01:00 CORS policy execution successful.
03/03/2023 15:42:07 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:07 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:07 +01:00 Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
03/03/2023 15:42:07 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:42:07 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 61.2264ms
03/03/2023 15:42:07 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:07 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 63.3073 ms
03/03/2023 15:42:07 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 200 136 application/json;+charset=utf-8 64.3929ms
03/03/2023 15:42:09 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/Delete/1 - -
03/03/2023 15:42:09 +01:00 CORS policy execution successful.
03/03/2023 15:42:09 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/Delete/1 - - - 204 - - 0.7158ms
03/03/2023 15:42:09 +01:00 Request starting HTTP/1.1 DELETE https://localhost:44316/api/respondent/Delete/1 application/json 10
03/03/2023 15:42:09 +01:00 CORS policy execution successful.
03/03/2023 15:42:09 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
03/03/2023 15:42:09 +01:00 Route matched with "{action = \"DeleteRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteRespondent(Int32)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:09 +01:00 Executed DbCommand ("37"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[Id] = @__p_0"
03/03/2023 15:42:09 +01:00 Executed DbCommand ("17"ms) [Parameters=["@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Respondents] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [DeletedBy] = @p2, [DeletedOn] = @p3, [Email] = @p4, [ModifiedBy] = @p5, [ModifiedOn] = @p6
OUTPUT 1
WHERE [Id] = @p7;"
03/03/2023 15:42:09 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
03/03/2023 15:42:09 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)" in 67.8678ms
03/03/2023 15:42:09 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
03/03/2023 15:42:09 +01:00 HTTP "DELETE" "/api/respondent/Delete/1" responded 200 in 68.8063 ms
03/03/2023 15:42:09 +01:00 Request finished HTTP/1.1 DELETE https://localhost:44316/api/respondent/Delete/1 application/json 10 - 200 53 application/json;+charset=utf-8 69.1783ms
03/03/2023 15:42:10 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:42:10 +01:00 CORS policy execution successful.
03/03/2023 15:42:10 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.3146ms
03/03/2023 15:42:10 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:42:10 +01:00 CORS policy execution successful.
03/03/2023 15:42:10 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:10 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:10 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
03/03/2023 15:42:10 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:42:10 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 10.0571ms
03/03/2023 15:42:10 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:10 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 12.6427 ms
03/03/2023 15:42:10 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 200 98 application/json;+charset=utf-8 13.0122ms
03/03/2023 15:42:11 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/Delete/3 - -
03/03/2023 15:42:11 +01:00 CORS policy execution successful.
03/03/2023 15:42:11 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/Delete/3 - - - 204 - - 0.5517ms
03/03/2023 15:42:11 +01:00 Request starting HTTP/1.1 DELETE https://localhost:44316/api/respondent/Delete/3 application/json 10
03/03/2023 15:42:11 +01:00 CORS policy execution successful.
03/03/2023 15:42:11 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
03/03/2023 15:42:11 +01:00 Route matched with "{action = \"DeleteRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteRespondent(Int32)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:11 +01:00 Executed DbCommand ("34"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[Id] = @__p_0"
03/03/2023 15:42:11 +01:00 Executed DbCommand ("26"ms) [Parameters=["@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Respondents] SET [CreatedBy] = @p0, [CreatedOn] = @p1, [DeletedBy] = @p2, [DeletedOn] = @p3, [Email] = @p4, [ModifiedBy] = @p5, [ModifiedOn] = @p6
OUTPUT 1
WHERE [Id] = @p7;"
03/03/2023 15:42:11 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
03/03/2023 15:42:11 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)" in 102.3469ms
03/03/2023 15:42:11 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.DeleteRespondent (InternalSurvey.Api)"'
03/03/2023 15:42:11 +01:00 HTTP "DELETE" "/api/respondent/Delete/3" responded 200 in 104.1917 ms
03/03/2023 15:42:11 +01:00 Request finished HTTP/1.1 DELETE https://localhost:44316/api/respondent/Delete/3 application/json 10 - 200 53 application/json;+charset=utf-8 104.6406ms
03/03/2023 15:42:12 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:42:12 +01:00 CORS policy execution successful.
03/03/2023 15:42:12 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:12 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:12 +01:00 Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
03/03/2023 15:42:12 +01:00 No data
03/03/2023 15:42:12 +01:00 Executing "BadRequestObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
03/03/2023 15:42:12 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 17.7101ms
03/03/2023 15:42:12 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:12 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 400 in 18.7877 ms
03/03/2023 15:42:12 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 400 21 application/json;+charset=utf-8 19.1625ms
03/03/2023 15:42:20 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/Add - -
03/03/2023 15:42:20 +01:00 CORS policy execution successful.
03/03/2023 15:42:20 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/Add - - - 204 - - 0.5216ms
03/03/2023 15:42:20 +01:00 Request starting HTTP/1.1 POST https://localhost:44316/api/respondent/Add application/json 45
03/03/2023 15:42:20 +01:00 CORS policy execution successful.
03/03/2023 15:42:20 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
03/03/2023 15:42:20 +01:00 Route matched with "{action = \"AddRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRespondent(InternalSurvey.Api.Dtos.RespondentDto)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:20 +01:00 Executed DbCommand ("33"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Respondents] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
03/03/2023 15:42:20 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
03/03/2023 15:42:20 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)" in 80.0884ms
03/03/2023 15:42:20 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
03/03/2023 15:42:20 +01:00 HTTP "POST" "/api/respondent/Add" responded 200 in 85.3710 ms
03/03/2023 15:42:20 +01:00 Request finished HTTP/1.1 POST https://localhost:44316/api/respondent/Add application/json 45 - 200 34 application/json;+charset=utf-8 85.7194ms
03/03/2023 15:42:20 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:42:20 +01:00 CORS policy execution successful.
03/03/2023 15:42:20 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.1460ms
03/03/2023 15:42:20 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:42:20 +01:00 CORS policy execution successful.
03/03/2023 15:42:20 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:20 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:20 +01:00 Executed DbCommand ("27"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
03/03/2023 15:42:20 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:42:20 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 30.126ms
03/03/2023 15:42:20 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:20 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 30.6543 ms
03/03/2023 15:42:20 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 200 102 application/json;+charset=utf-8 30.8305ms
03/03/2023 15:42:36 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/Add - -
03/03/2023 15:42:36 +01:00 CORS policy execution successful.
03/03/2023 15:42:36 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/Add - - - 204 - - 3.0217ms
03/03/2023 15:42:36 +01:00 Request starting HTTP/1.1 POST https://localhost:44316/api/respondent/Add application/json 44
03/03/2023 15:42:36 +01:00 CORS policy execution successful.
03/03/2023 15:42:36 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
03/03/2023 15:42:36 +01:00 Route matched with "{action = \"AddRespondent\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddRespondent(InternalSurvey.Api.Dtos.RespondentDto)" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:37 +01:00 Executed DbCommand ("34"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Respondents] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [ModifiedBy], [ModifiedOn])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
03/03/2023 15:42:37 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
03/03/2023 15:42:37 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)" in 58.7571ms
03/03/2023 15:42:37 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.AddRespondent (InternalSurvey.Api)"'
03/03/2023 15:42:37 +01:00 HTTP "POST" "/api/respondent/Add" responded 200 in 59.4682 ms
03/03/2023 15:42:37 +01:00 Request finished HTTP/1.1 POST https://localhost:44316/api/respondent/Add application/json 44 - 200 34 application/json;+charset=utf-8 59.7007ms
03/03/2023 15:42:37 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:42:37 +01:00 CORS policy execution successful.
03/03/2023 15:42:37 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.2937ms
03/03/2023 15:42:37 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:42:37 +01:00 CORS policy execution successful.
03/03/2023 15:42:37 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:37 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:42:37 +01:00 Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
03/03/2023 15:42:37 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:42:37 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 12.8918ms
03/03/2023 15:42:37 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:42:37 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 14.4449 ms
03/03/2023 15:42:37 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 200 147 application/json;+charset=utf-8 14.7337ms
03/03/2023 15:42:44 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetUser - -
03/03/2023 15:42:44 +01:00 CORS policy execution successful.
03/03/2023 15:42:44 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetUser - - - 204 - - 0.3345ms
03/03/2023 15:42:44 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/User/GetUser - -
03/03/2023 15:42:44 +01:00 CORS policy execution successful.
03/03/2023 15:42:44 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
03/03/2023 15:42:44 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:42:44 +01:00 Executed DbCommand ("46"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
03/03/2023 15:42:44 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
03/03/2023 15:42:44 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 50.338ms
03/03/2023 15:42:44 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
03/03/2023 15:42:44 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 53.0211 ms
03/03/2023 15:42:44 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/User/GetUser - - - 200 153 application/json;+charset=utf-8 53.2657ms
03/03/2023 15:42:48 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/Logoff - -
03/03/2023 15:42:48 +01:00 CORS policy execution successful.
03/03/2023 15:42:48 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/Logoff - - - 204 - - 0.7272ms
03/03/2023 15:42:48 +01:00 Request starting HTTP/1.1 POST https://localhost:44316/api/User/Logoff - 0
03/03/2023 15:42:48 +01:00 CORS policy execution successful.
03/03/2023 15:42:48 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.LogOff (InternalSurvey.Api)"'
03/03/2023 15:42:48 +01:00 Route matched with "{action = \"LogOff\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogOff()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:42:48 +01:00 AuthenticationScheme: "Identity.Application" signed out.
03/03/2023 15:42:48 +01:00 AuthenticationScheme: "Identity.External" signed out.
03/03/2023 15:42:48 +01:00 AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
03/03/2023 15:42:48 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
03/03/2023 15:42:48 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.LogOff (InternalSurvey.Api)" in 7.8695ms
03/03/2023 15:42:48 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.LogOff (InternalSurvey.Api)"'
03/03/2023 15:42:48 +01:00 HTTP "POST" "/api/User/Logoff" responded 200 in 20.7118 ms
03/03/2023 15:42:48 +01:00 Request finished HTTP/1.1 POST https://localhost:44316/api/User/Logoff - 0 - 200 30 application/json;+charset=utf-8 21.0056ms
03/03/2023 15:42:58 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/Login - -
03/03/2023 15:42:58 +01:00 CORS policy execution successful.
03/03/2023 15:42:58 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/Login - - - 204 - - 0.7307ms
03/03/2023 15:42:58 +01:00 Request starting HTTP/1.1 POST https://localhost:44316/api/User/Login application/json 61
03/03/2023 15:42:58 +01:00 CORS policy execution successful.
03/03/2023 15:42:58 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
03/03/2023 15:42:58 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:42:58 +01:00 info
03/03/2023 15:42:58 +01:00 Executed DbCommand ("12"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
03/03/2023 15:42:58 +01:00 Request starting HTTP/1.1 POST https://localhost:44316/api/User/Login application/json 61
03/03/2023 15:42:58 +01:00 CORS policy execution successful.
03/03/2023 15:42:58 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
03/03/2023 15:42:58 +01:00 Route matched with "{action = \"Login\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[System.Object] Login(InternalSurvey.Api.Dtos.LoginUserDto)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:42:58 +01:00 info
03/03/2023 15:42:58 +01:00 Executed DbCommand ("36"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0"
03/03/2023 15:42:58 +01:00 Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
03/03/2023 15:42:58 +01:00 AuthenticationScheme: "Identity.Application" signed in.
03/03/2023 15:42:58 +01:00 Executed DbCommand ("10"ms) [Parameters=["@__model_Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__model_Email_0"
03/03/2023 15:42:58 +01:00 Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
03/03/2023 15:42:58 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Controllers.UserController+LoginResponse"'.
03/03/2023 15:42:58 +01:00 AuthenticationScheme: "Identity.Application" signed in.
03/03/2023 15:42:58 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 260.0151ms
03/03/2023 15:42:58 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
03/03/2023 15:42:58 +01:00 HTTP "POST" "/api/User/Login" responded 200 in 261.7625 ms
03/03/2023 15:42:58 +01:00 Request finished HTTP/1.1 POST https://localhost:44316/api/User/Login application/json 61 - 200 683 application/json;+charset=utf-8 262.0737ms
03/03/2023 15:42:58 +01:00 Executed DbCommand ("6"ms) [Parameters=["@__model_Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__model_Email_0"
03/03/2023 15:42:58 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Controllers.UserController+LoginResponse"'.
03/03/2023 15:42:58 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)" in 211.9959ms
03/03/2023 15:42:58 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.Login (InternalSurvey.Api)"'
03/03/2023 15:42:58 +01:00 HTTP "POST" "/api/User/Login" responded 200 in 212.4392 ms
03/03/2023 15:42:58 +01:00 Request finished HTTP/1.1 POST https://localhost:44316/api/User/Login application/json 61 - 200 683 application/json;+charset=utf-8 251.2360ms
03/03/2023 15:42:58 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetUser - -
03/03/2023 15:42:58 +01:00 CORS policy execution successful.
03/03/2023 15:42:58 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetUser - - - 204 - - 0.2067ms
03/03/2023 15:42:58 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/User/GetUser - -
03/03/2023 15:42:58 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/survey/GetAllPublished - -
03/03/2023 15:42:58 +01:00 CORS policy execution successful.
03/03/2023 15:42:58 +01:00 CORS policy execution successful.
03/03/2023 15:42:58 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/survey/GetAllPublished - - - 204 - - 0.1288ms
03/03/2023 15:42:58 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/survey/GetAllPublished - -
03/03/2023 15:42:58 +01:00 CORS policy execution successful.
03/03/2023 15:42:58 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
03/03/2023 15:42:58 +01:00 Route matched with "{action = \"GetUserProfile\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InternalSurvey.Api.Dtos.UserDto]] GetUserProfileAsync()" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:42:58 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
03/03/2023 15:42:58 +01:00 Route matched with "{action = \"GetSurveysPublished\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveysPublished(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
03/03/2023 15:42:58 +01:00 Executed DbCommand ("24"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
03/03/2023 15:42:58 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.UserDto"'.
03/03/2023 15:42:58 +01:00 Executed DbCommand ("76"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE ([s].[DeletedOn] IS NULL) AND ([s].[StartDate] IS NOT NULL)
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
03/03/2023 15:42:58 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)" in 178.6288ms
03/03/2023 15:42:58 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUserProfileAsync (InternalSurvey.Api)"'
03/03/2023 15:42:58 +01:00 HTTP "GET" "/api/User/GetUser" responded 200 in 204.5484 ms
03/03/2023 15:42:58 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/User/GetUser - - - 200 166 application/json;+charset=utf-8 206.5561ms
03/03/2023 15:42:58 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:42:58 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)" in 229.6305ms
03/03/2023 15:42:58 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
03/03/2023 15:42:58 +01:00 HTTP "GET" "/api/survey/GetAllPublished" responded 200 in 230.0739 ms
03/03/2023 15:42:58 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/survey/GetAllPublished - - - 200 56 application/json;+charset=utf-8 230.3682ms
03/03/2023 15:43:00 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:43:00 +01:00 CORS policy execution successful.
03/03/2023 15:43:00 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 204 - - 0.2262ms
03/03/2023 15:43:00 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:43:00 +01:00 CORS policy execution successful.
03/03/2023 15:43:00 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:43:00 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:43:00 +01:00 Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
03/03/2023 15:43:00 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:43:00 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 11.0321ms
03/03/2023 15:43:00 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:43:00 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 11.6828 ms
03/03/2023 15:43:00 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 200 147 application/json;+charset=utf-8 12.7345ms
03/03/2023 15:43:01 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/survey/GetAll?$skip=0&$top=10 - -
03/03/2023 15:43:01 +01:00 CORS policy execution successful.
03/03/2023 15:43:01 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/survey/GetAll?$skip=0&$top=10 - - - 204 - - 0.3791ms
03/03/2023 15:43:01 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/survey/GetAll?$skip=0&$top=10 - -
03/03/2023 15:43:01 +01:00 CORS policy execution successful.
03/03/2023 15:43:01 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
03/03/2023 15:43:01 +01:00 Route matched with "{action = \"GetSurveys\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveys(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
03/03/2023 15:43:01 +01:00 Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
03/03/2023 15:43:01 +01:00 Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE [s].[DeletedOn] IS NULL
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
03/03/2023 15:43:01 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:43:01 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)" in 100.7894ms
03/03/2023 15:43:01 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveys (InternalSurvey.Api)"'
03/03/2023 15:43:01 +01:00 HTTP "GET" "/api/survey/GetAll" responded 200 in 108.8189 ms
03/03/2023 15:43:01 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/survey/GetAll?$skip=0&$top=10 - - - 200 57 application/json;+charset=utf-8 109.1024ms
03/03/2023 15:43:02 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/survey/GetAllPublished - -
03/03/2023 15:43:02 +01:00 CORS policy execution successful.
03/03/2023 15:43:02 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
03/03/2023 15:43:02 +01:00 Route matched with "{action = \"GetSurveysPublished\", controller = \"Survey\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.SurveyDto]]] GetSurveysPublished(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Survey])" on controller "InternalSurvey.Api.Controllers.SurveyController" ("InternalSurvey.Api").
03/03/2023 15:43:02 +01:00 Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [s].[Id], [s].[AspNetUsersId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[Description], [s].[EndDate], [s].[ModifiedBy], [s].[ModifiedOn], [s].[StartDate], [s].[SwitchOffRespondents], [s].[Title], [s].[UserId], [s].[VotingRespondents], [q].[Id], [q].[CreatedBy], [q].[CreatedOn], [q].[DeletedBy], [q].[DeletedOn], [q].[Description], [q].[HasOthers], [q].[IsRequired], [q].[ModifiedBy], [q].[ModifiedOn], [q].[Order], [q].[QuestionType], [q].[SurveyId], [q].[Title], [t].[CommentId], [t].[CommnetText], [t].[CreatedBy], [t].[CreatedOn], [t].[DeletedBy], [t].[DeletedOn], [t].[ModifiedBy], [t].[ModifiedOn], [t].[RespondentId], [t].[SurveyId], [t].[Id], [t].[CreatedBy0], [t].[CreatedOn0], [t].[DeletedBy0], [t].[DeletedOn0], [t].[Email], [t].[ModifiedBy0], [t].[ModifiedOn0]
FROM [Surveys] AS [s]
LEFT JOIN [Questions] AS [q] ON [s].[Id] = [q].[SurveyId]
LEFT JOIN (
    SELECT [c].[CommentId], [c].[CommnetText], [c].[CreatedBy], [c].[CreatedOn], [c].[DeletedBy], [c].[DeletedOn], [c].[ModifiedBy], [c].[ModifiedOn], [c].[RespondentId], [c].[SurveyId], [r].[Id], [r].[CreatedBy] AS [CreatedBy0], [r].[CreatedOn] AS [CreatedOn0], [r].[DeletedBy] AS [DeletedBy0], [r].[DeletedOn] AS [DeletedOn0], [r].[Email], [r].[ModifiedBy] AS [ModifiedBy0], [r].[ModifiedOn] AS [ModifiedOn0]
    FROM [Comments] AS [c]
    INNER JOIN [Respondents] AS [r] ON [c].[RespondentId] = [r].[Id]
) AS [t] ON [s].[Id] = [t].[SurveyId]
WHERE ([s].[DeletedOn] IS NULL) AND ([s].[StartDate] IS NOT NULL)
ORDER BY [s].[Id], [q].[Id], [t].[CommentId]"
03/03/2023 15:43:02 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.SurveyDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:43:02 +01:00 Executed action "InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)" in 16.3485ms
03/03/2023 15:43:02 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.SurveyController.GetSurveysPublished (InternalSurvey.Api)"'
03/03/2023 15:43:02 +01:00 HTTP "GET" "/api/survey/GetAllPublished" responded 200 in 17.9188 ms
03/03/2023 15:43:02 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/survey/GetAllPublished - - - 200 56 application/json;+charset=utf-8 18.6196ms
03/03/2023 15:43:03 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - -
03/03/2023 15:43:03 +01:00 CORS policy execution successful.
03/03/2023 15:43:03 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:43:03 +01:00 Route matched with "{action = \"GetRespondents\", controller = \"Respondent\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InternalSurvey.Api.Dtos.RespondentDto]]] GetRespondents(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.Respondent])" on controller "InternalSurvey.Api.Controllers.RespondentController" ("InternalSurvey.Api").
03/03/2023 15:43:03 +01:00 Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Id], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[Email], [r].[ModifiedBy], [r].[ModifiedOn]
FROM [Respondents] AS [r]
WHERE [r].[DeletedOn] IS NULL"
03/03/2023 15:43:03 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.RespondentDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:43:03 +01:00 Executed action "InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)" in 45.8867ms
03/03/2023 15:43:03 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.RespondentController.GetRespondents (InternalSurvey.Api)"'
03/03/2023 15:43:03 +01:00 HTTP "GET" "/api/respondent/GetAll" responded 200 in 47.9535 ms
03/03/2023 15:43:03 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/respondent/GetAll?$skip=0&$top=10 - - - 200 147 application/json;+charset=utf-8 48.4888ms
03/03/2023 15:43:04 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - -
03/03/2023 15:43:04 +01:00 CORS policy execution successful.
03/03/2023 15:43:04 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - - - 204 - - 1.0247ms
03/03/2023 15:43:04 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - -
03/03/2023 15:43:04 +01:00 CORS policy execution successful.
03/03/2023 15:43:04 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
03/03/2023 15:43:04 +01:00 Route matched with "{action = \"GetUsers\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.UserDto]]] GetUsers(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.AspNetUsers])" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:43:04 +01:00 Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]"
03/03/2023 15:43:04 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.UserDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:43:04 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)" in 53.3672ms
03/03/2023 15:43:04 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
03/03/2023 15:43:04 +01:00 HTTP "GET" "/api/User/GetAll" responded 200 in 55.3015 ms
03/03/2023 15:43:04 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - - - 200 377 application/json;+charset=utf-8 56.3592ms
03/03/2023 15:43:07 +01:00 Request starting HTTP/1.1 OPTIONS https://localhost:44316/api/User/Delete/a4c95d33-b702-499c-b436-621e786e7518 - -
03/03/2023 15:43:07 +01:00 CORS policy execution successful.
03/03/2023 15:43:07 +01:00 Request finished HTTP/1.1 OPTIONS https://localhost:44316/api/User/Delete/a4c95d33-b702-499c-b436-621e786e7518 - - - 204 - - 0.8205ms
03/03/2023 15:43:07 +01:00 Request starting HTTP/1.1 DELETE https://localhost:44316/api/User/Delete/a4c95d33-b702-499c-b436-621e786e7518 application/json 171
03/03/2023 15:43:07 +01:00 CORS policy execution successful.
03/03/2023 15:43:07 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.DeleteUser (InternalSurvey.Api)"'
03/03/2023 15:43:07 +01:00 Route matched with "{action = \"DeleteUser\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.String)" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:43:07 +01:00 Executed DbCommand ("29"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0"
03/03/2023 15:43:07 +01:00 Executed DbCommand ("28"ms) [Parameters=["@p22='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedBy] = @p2, [CreatedOn] = @p3, [DeletedBy] = @p4, [DeletedOn] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [FirstName] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [ModifiedBy] = @p12, [ModifiedOn] = @p13, [NormalizedEmail] = @p14, [NormalizedUserName] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [SecurityStamp] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22;"
03/03/2023 15:43:07 +01:00 Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
03/03/2023 15:43:07 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.DeleteUser (InternalSurvey.Api)" in 126.8446ms
03/03/2023 15:43:07 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.DeleteUser (InternalSurvey.Api)"'
03/03/2023 15:43:07 +01:00 HTTP "DELETE" "/api/User/Delete/a4c95d33-b702-499c-b436-621e786e7518" responded 200 in 142.0725 ms
03/03/2023 15:43:07 +01:00 Request finished HTTP/1.1 DELETE https://localhost:44316/api/User/Delete/a4c95d33-b702-499c-b436-621e786e7518 application/json 171 - 200 46 application/json;+charset=utf-8 142.5461ms
03/03/2023 15:43:07 +01:00 Request starting HTTP/1.1 GET https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - -
03/03/2023 15:43:07 +01:00 CORS policy execution successful.
03/03/2023 15:43:07 +01:00 Executing endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
03/03/2023 15:43:07 +01:00 Route matched with "{action = \"GetUsers\", controller = \"User\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[InternalSurvey.Api.Dtos.UserDto]]] GetUsers(Microsoft.AspNetCore.OData.Query.ODataQueryOptions`1[InternalSurvey.Api.Entities.AspNetUsers])" on controller "InternalSurvey.Api.Controllers.UserController" ("InternalSurvey.Api").
03/03/2023 15:43:07 +01:00 Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedBy], [a].[CreatedOn], [a].[DeletedBy], [a].[DeletedOn], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[ModifiedBy], [a].[ModifiedOn], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]"
03/03/2023 15:43:07 +01:00 Executing "OkObjectResult", writing value of type '"InternalSurvey.Api.Dtos.BaseResponeDto`1[[InternalSurvey.Api.Dtos.UserDto, InternalSurvey.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'.
03/03/2023 15:43:07 +01:00 Executed action "InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)" in 13.0804ms
03/03/2023 15:43:07 +01:00 Executed endpoint '"InternalSurvey.Api.Controllers.UserController.GetUsers (InternalSurvey.Api)"'
03/03/2023 15:43:07 +01:00 HTTP "GET" "/api/User/GetAll" responded 200 in 13.7397 ms
03/03/2023 15:43:07 +01:00 Request finished HTTP/1.1 GET https://localhost:44316/api/User/GetAll?$skip=0&$top=10 - - - 200 223 application/json;+charset=utf-8 13.9575ms
03/03/2023 15:45:34 +01:00 4 servers were removed due to timeout
03/03/2023 18:46:00 +01:00 2 servers were removed due to timeout
03/03/2023 18:46:02 +01:00 Server 9691719c-5d78-45c5-9986-fcb928e5746c was considered dead by other servers, restarting...
03/03/2023 18:46:02 +01:00 Server 9691719c-5d78-45c5-9986-fcb928e5746c caught restart signal...
03/03/2023 18:51:42 +01:00 Server 9691719c-5d78-45c5-9986-fcb928e5746c stopped non-gracefully due to ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
03/03/2023 18:51:42 +01:00 Server 9691719c-5d78-45c5-9986-fcb928e5746c successfully reported itself as stopped in 31,562 ms
03/03/2023 18:51:42 +01:00 Server 9691719c-5d78-45c5-9986-fcb928e5746c has been stopped in total 423,2835 ms
03/03/2023 18:51:43 +01:00 Server ef71c393-8b15-49f0-8d5a-b3ae641f4f41 successfully announced in 101,883 ms
03/03/2023 18:51:43 +01:00 Server ef71c393-8b15-49f0-8d5a-b3ae641f4f41 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
03/03/2023 18:51:43 +01:00 Server 1a4a9180-b5c1-41f1-a07c-8354ec1e7b08 was considered dead by other servers, restarting...
03/03/2023 18:51:43 +01:00 Server 1a4a9180-b5c1-41f1-a07c-8354ec1e7b08 caught restart signal...
03/03/2023 18:51:43 +01:00 Server 1a4a9180-b5c1-41f1-a07c-8354ec1e7b08 stopped non-gracefully due to ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler. Outstanding work on those dispatchers could be aborted, and there can be delays in background processing. This server instance will be incorrectly shown as active for a while. To avoid non-graceful shutdowns, investigate what prevents from stopping gracefully and add CancellationToken support for those methods.
03/03/2023 18:51:43 +01:00 Server 1a4a9180-b5c1-41f1-a07c-8354ec1e7b08 successfully reported itself as stopped in 219,4715 ms
03/03/2023 18:51:43 +01:00 Server 1a4a9180-b5c1-41f1-a07c-8354ec1e7b08 has been stopped in total 293,0594 ms
03/03/2023 18:51:43 +01:00 Server ef71c393-8b15-49f0-8d5a-b3ae641f4f41 all the dispatchers started
03/03/2023 18:51:43 +01:00 Server 1d28afcc-67b7-4f77-bec0-385e952f0b8f successfully announced in 182,5647 ms
03/03/2023 18:51:43 +01:00 Server 1d28afcc-67b7-4f77-bec0-385e952f0b8f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
03/03/2023 18:51:44 +01:00 Server 1d28afcc-67b7-4f77-bec0-385e952f0b8f all the dispatchers started
